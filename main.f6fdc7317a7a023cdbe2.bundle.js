webpackJsonp([0,4],{108:function(t,e,i){"use strict";var n=i(233);i.d(e,"a",function(){return s});var r=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},s=function(t){function e(i){void 0===i&&(i="boy");var n="assets/"+i+".png";t.call(this,n,e.ELEMENT_WIDTH,e.ELEMENT_HEIGHT,e.OFFSET_X,e.OFFSET_Y)}return r(e,t),e.prototype.drawFrame=function(t,e,i,n,r,s,a){void 0===s&&(s=1),void 0===a&&(a=1),this.draw(t,i,e,n,r,s,a)},e.ELEMENT_WIDTH=64,e.ELEMENT_HEIGHT=64,e.OFFSET_X=0,e.OFFSET_Y=0,e.DANCE1=12,e.DANCE2=13,e.DANCE3=14,e.DANCE4=15,e.WALK_UP=8,e.WALK_LEFT=9,e.WALK_DOWN=10,e.WALK_RIGHT=11,e.NUM_WALK_FRAMES=9,e}(n.a)},157:function(t,e,i){"use strict";var n=i(1);i.d(e,"a",function(){return r});var r=function(){function t(t){this.elementRef=t}return t.prototype.ngDoCheck=function(){if(this.appScaleToWidth){var t=$(this.elementRef.nativeElement),e=t.width(),i=t.height();if(e!=this.lastWidth||i!=this.lastHeight){this.lastWidth=e,this.lastHeight=i;var n=e/this.appScaleToWidth;t.children().css({width:100/n+"%",transform:"scale("+n+")",transformOrigin:"0 0"})}}},t.ctorParameters=function(){return[{type:n.ElementRef}]},t}()},158:function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n=function(){function t(){}return t.ctorParameters=function(){return[]},t}()},159:function(t,e,i){"use strict";var n=i(233),r=i(108),s=i(234),a=i(73);i.d(e,"a",function(){return o});var h=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},o=function(t){function e(){t.call(this),this.scaling=.5,this.counter=0}return h(e,t),e.getSpriteMap=function(){return e.otherSpriteMap},e.prototype.draw=function(i){this.spriteMap=e.otherSpriteMap,this.spriteMap&&t.prototype.draw.call(this,i,this.scaling)},e.prototype.go=function(t,e){if(t!=this.targetX||e!=this.targetY){this.moveX=this.moveY=0;var i=1.5/(1e3/a.a.MS_PER_FRAME);t<this.x?(this.type=r.a.WALK_LEFT,this.moveX=-i):t>this.x?(this.type=r.a.WALK_RIGHT,this.moveX=i):e<this.y?(this.type=r.a.WALK_UP,this.moveY=-i):e>this.y&&(this.type=r.a.WALK_DOWN,this.moveY=i),this.targetX=t,this.targetY=e}},e.prototype.update=function(e){if(t.prototype.update.call(this,e),void 0!=this.targetX){var i=e.getGridSize()-1;this.x=Math.min(i,Math.max(0,this.x+this.moveX)),this.y=Math.min(i,Math.max(0,this.y+this.moveY));var n=this.targetX-this.x,r=this.targetY-this.y;n*n+r*r<.001&&(this.x=this.targetX,this.y=this.targetY,this.frame=0,this.targetX=this.targetY=void 0,this.onArrival(e))}},e.prototype.onArrival=function(t){},e.TYPE_TOILET=0,e.TYPE_PLUNGER=1,e.TYPE_TP=2,e.TYPE_SYMBOL=3,e.TYPE_CLOGGED_TOILET=4,e.TYPE_SOAP=5,e.WALK_UP=8,e.WALK_LEFT=9,e.WALK_DOWN=10,e.WALK_RIGHT=11,e.NUM_WALK_FRAMES=9,e.otherSpriteMap=new n.a("assets/others.png"),e}(s.a)},19:function(t,e,i){"use strict";var n=i(237);i.n(n);i.d(e,"b",function(){return r}),i.d(e,"a",function(){return s});var r;!function(t){t[t.GAME_SPLASH_SCREEN=0]="GAME_SPLASH_SCREEN",t[t.GAME_INTRO=1]="GAME_INTRO",t[t.GAME_STARTING=2]="GAME_STARTING",t[t.GAME_IN_PROGRESS=3]="GAME_IN_PROGRESS",t[t.GAME_NEXT_LEVEL=4]="GAME_NEXT_LEVEL",t[t.GAME_LOST_LIFE_POOPED_PANTS=5]="GAME_LOST_LIFE_POOPED_PANTS",t[t.GAME_LOST_LIFE_HIT_MONSTER=6]="GAME_LOST_LIFE_HIT_MONSTER",t[t.GAME_NEW_HIGHSCORE=7]="GAME_NEW_HIGHSCORE",t[t.GAME_NEXT_LIFE=8]="GAME_NEXT_LIFE"}(r||(r={}));var s=function(){function t(t){this.cookieService=t,this.canvasDimension=1e3,this.canvasBorder=10,this.isPaused=!1,this.justDropped=!1,this.score=0,this.hasTP=!1,this.hasPlunger=!1,this.hasGoldenPlunger=!1,this.numSoaps=0,this.numTP=0,this.numPlungers=0}return Object.defineProperty(t.prototype,"highScore",{get:function(){return void 0===this._highScore&&(this._highScore=parseInt(this.cookieService.get("highScore")),this._highScore=isNaN(this._highScore)?0:this._highScore),this._highScore},set:function(t){this._highScore=t,this.cookieService.put("highScore",t.toString())},enumerable:!0,configurable:!0}),t.ctorParameters=function(){return[{type:n.CookieService}]},t}()},227:function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n=function(){function t(){this.seed=1}return t.prototype.nextInt=function(){return this.gen()},t.prototype.nextDouble=function(){return this.gen()/2147483647},t.prototype.nextIntRange=function(t,e){return t-=.4999,e+=.4999,Math.round(t+(e-t)*this.nextDouble())},t.prototype.nextDoubleRange=function(t,e){return t+(e-t)*this.nextDouble()},t.prototype.gen=function(){var t=16807*(this.seed>>16),e=16807*(65535&this.seed)+((32767&t)<<16)+(t>>15);return this.seed=e>2147483647?e-2147483647:e},t}()},228:function(t,e,i){"use strict";var n=i(157),r=i(17),s=i(12);i.d(e,"a",function(){return a});var a=function(){function t(t){this._changed=!1,this.context=new n.a(t),this._expr_0=r.b}return t.prototype.ngOnDetach=function(t,e,i){},t.prototype.ngOnDestroy=function(){},t.prototype.check_appScaleToWidth=function(t,e,i){(i||s.checkBinding(e,this._expr_0,t))&&(this._changed=!0,this.context.appScaleToWidth=t,this._expr_0=t)},t.prototype.ngDoCheck=function(t,e,i){var n=this._changed;return this._changed=!1,i||this.context.ngDoCheck(),n},t.prototype.checkHost=function(t,e,i,n){},t.prototype.handleEvent=function(t,e){var i=!0;return i},t.prototype.subscribe=function(t,e){this._eventHandler=e},t}()},229:function(t,e,i){"use strict";var n=i(83),r=i(17),s=i(12);i.d(e,"a",function(){return a});var a=function(){function t(t,e,i,s){this._changed=!1,this._changes={},this.context=new n.a(t,e,i,s),this._expr_0=r.b,this._expr_1=r.b,this._expr_2=r.b}return t.prototype.ngOnDetach=function(t,e,i){},t.prototype.ngOnDestroy=function(){},t.prototype.check_ngForOf=function(t,e,i){(i||s.checkBinding(e,this._expr_0,t))&&(this._changed=!0,this.context.ngForOf=t,this._changes.ngForOf=new r.e(this._expr_0,t),this._expr_0=t)},t.prototype.check_ngForTrackBy=function(t,e,i){(i||s.checkBinding(e,this._expr_1,t))&&(this._changed=!0,this.context.ngForTrackBy=t,this._changes.ngForTrackBy=new r.e(this._expr_1,t),this._expr_1=t)},t.prototype.check_ngForTemplate=function(t,e,i){(i||s.checkBinding(e,this._expr_2,t))&&(this._changed=!0,this.context.ngForTemplate=t,this._changes.ngForTemplate=new r.e(this._expr_2,t),this._expr_2=t)},t.prototype.ngDoCheck=function(t,e,i){var n=this._changed;return this._changed=!1,i||(n&&(this.context.ngOnChanges(this._changes),this._changes={}),this.context.ngDoCheck()),n},t.prototype.checkHost=function(t,e,i,n){},t.prototype.handleEvent=function(t,e){var i=!0;return i},t.prototype.subscribe=function(t,e){this._eventHandler=e},t}()},230:function(t,e,i){"use strict";var n=i(1),r=i(19),s=i(57),a=i(73);i.d(e,"a",function(){return h});var h=function(){function t(t,e,i){this.elementRef=t,this.appState=e,this.eventPublisherService=i,this.BATHROOM_BREAK_MS=3e4,this.bathroomNeed=0,this.soapTime=0,this.lives=[]}return t.prototype.ngOnInit=function(){},t.prototype.ngDoCheck=function(){this.soapTime=Math.floor(100*Math.min(1,this.appState.msUntilSoapDone/a.a.MS_UNTIL_SOAP_WEARS_OFF))/100,this.lives.length!=this.appState.numLives&&(this.appState.numLives>0?this.lives=new Array(this.appState.numLives):this.lives=[]),this.bathroomNeed=1-Math.floor(100*Math.min(1,this.appState.msUntilBathroomBreak/a.a.MS_UNTIL_BATHROOM_BREAK))/100,this.bathroomNeed<.5?this.barcolor="rgb(0,255,0)":this.bathroomNeed<.75?this.barcolor="rgb(255,255,0)":this.barcolor="rgb(255,0,0)"},t.prototype.adjustScaling=function(){var t=$(this.elementRef.nativeElement).parent(),e=t.width(),i=t.height();if(e!=this.lastW||i!=this.lastH){this.lastW=e,this.lastH=i;var n=e/800;$(this.elementRef.nativeElement).find(".dashboard-parent").css({width:100/n+"%",transform:"scale("+n+")"})}},t.prototype.onDrop=function(){this.eventPublisherService.emit(s.b.EVENT_PICKUP_DROP)},t.prototype.onUseSoap=function(){this.eventPublisherService.emit(s.b.EVENT_USE_SOAP)},t.prototype.togglePause=function(){this.appState.isPaused=!this.appState.isPaused},t.ctorParameters=function(){return[{type:n.ElementRef},{type:r.a},{type:s.a}]},t}()},231:function(t,e,i){"use strict";var n=i(1),r=i(108),s=i(19),a=i(56),h=i(352),o=i(73),_=i(368),l=i(159),c=i(367),p=i(227),u=i(57),d=i(158);i.d(e,"a",function(){return f});var f=function(){function t(t,e,i,n,r){this.elementRef=t,this.appState=e,this.audioService=i,this.eventPublisherService=n,this.userInputService=r,this.justLostLevel=!1,this.mousedown=!1,this.keyDown=new Array(256),this.random=new p.a}return t.prototype.getGridSize=function(){return this.gridSize},t.prototype.canPlayerExit=function(t,e){if(this.numCloggedToilets)return!1;var i=this.maze.endCell;return i.xPos==Math.floor(t)&&i.yPos==Math.floor(e)},t.prototype.ngOnInit=function(){var t=this;this.eventPublisherService.Stream.subscribe(function(e){return t.processEvent(e)}),$(window).mouseup(function(){t.mousedown=!1}),$(window).keydown(function(e){32==e.keyCode&&t.eventPublisherService.emit(u.b.EVENT_PICKUP_DROP),t.keyDown[e.keyCode]=!0}),$(window).keyup(function(e){t.keyDown[e.keyCode]=!1}),this.backgroundImage=new Image,this.backgroundImage.src="assets/tiles.jpg",this.wallsImage=new Image,this.wallsImage.src="assets/walls.png",this.characterMap=new r.a,this.canvas=$(this.elementRef.nativeElement).find(".game-view")[0],this.wallsCanvas=$(this.elementRef.nativeElement).find(".offscreen-walls")[0],this.floorCanvas=$(this.elementRef.nativeElement).find(".offscreen-floor")[0],setInterval(function(){t.appState.state==s.b.GAME_IN_PROGRESS&&t.updateScreen(),t.appState.isPaused||(t.appState.msUntilBathroomBreak=Math.max(0,t.appState.msUntilBathroomBreak-o.a.MS_PER_FRAME),t.appState.msUntilSoapDone=Math.max(0,t.appState.msUntilSoapDone-o.a.MS_PER_FRAME))},o.a.MS_PER_FRAME)},t.prototype.ngDoCheck=function(){var t=this;switch(this.appState.state==s.b.GAME_IN_PROGRESS&&this.appState.msUntilBathroomBreak<=0&&(this.appState.state=s.b.GAME_LOST_LIFE_POOPED_PANTS),this.appState.state){case s.b.GAME_STARTING:this.initGame(),this.appState.state=s.b.GAME_IN_PROGRESS;break;case s.b.GAME_NEXT_LEVEL:this.nextLevel(),this.appState.state=s.b.GAME_IN_PROGRESS;break;case s.b.GAME_LOST_LIFE_POOPED_PANTS:case s.b.GAME_LOST_LIFE_HIT_MONSTER:this.justLostLevel=!0,this.audioService.playMusic(a.b.MUSIC_DEATH),this.appState.isPaused||(this.appState.isPaused=!0,window.setTimeout(function(){--t.appState.numLives,t.appState.numLives<=0?t.appState.score>t.appState.highScore?(t.appState.highScore=t.appState.score,t.appState.state=s.b.GAME_NEW_HIGHSCORE):t.appState.state=s.b.GAME_INTRO:(--t.appState.levelNumber,t.appState.state=s.b.GAME_NEXT_LEVEL),t.appState.isPaused=!1},5e3))}var e=$(this.elementRef.nativeElement).parent(),i=e.width(),n=e.height();if(this.lastW!=i||this.lastH!=n){this.lastW=i,this.lastH=n,i&&n&&(i-=20,n-=20);var r=i=n=Math.min(i,n);this.canvasScaling=r/this.appState.canvasDimension,$(this.canvas).css({width:r+"px",height:r+"px"}),$(this.canvas).css({width:r+"px",height:r+"px"})}},t.prototype.processEvent=function(t){var e=1;switch(t.type){case u.b.EVENT_MOVE_DOWN:this.handlePlayerMove(0,e);break;case u.b.EVENT_MOVE_UP:this.handlePlayerMove(0,-e);break;case u.b.EVENT_MOVE_LEFT:this.handlePlayerMove(-e,0);break;case u.b.EVENT_MOVE_RIGHT:this.handlePlayerMove(e,0);break;case u.b.EVENT_PICKUP_DROP:this.dropItem();break;case u.b.EVENT_USE_SOAP:this.useSoap();break;case u.b.EVENT_USE_TOILET:this.useToilet()}},t.prototype.initGame=function(){this.appState.levelNumber=0,this.appState.numLives=3,this.justLostLevel=!1,this.nextLevel()},t.prototype.getSpritesAtPosition=function(t,e,i){void 0===i&&(i=.1),i*=i;var n=new Array;return this.sprites.forEach(function(r){var s=t-r.x,a=e-r.y;s*s+a*a<i&&n.push(r)}),n},t.prototype.createOtherSprite=function(t,e,i,n){if(void 0===e)for(var r=this.gridSize/2,s=0;!0&&(e=Math.floor(this.random.nextDouble()*this.gridSize),i=Math.floor(this.random.nextDouble()*this.gridSize),0!=this.getSpritesAtPosition(e,i,r).length);s++)s%10==0&&(r=Math.max(1,.8*r));var h;switch(t===l.a.TYPE_SYMBOL&&this.audioService.playSoundEffect(a.b.SFX_FART),t){default:h=new l.a;break;case l.a.TYPE_CLOGGED_TOILET:h=new c.a(this.appState)}return h.type=t,h.x=e,h.y=i,n?this.sprites.unshift(h):this.sprites.push(h),h},t.prototype.removeSprite=function(t){var e=this.sprites.indexOf(t);if(this.sprites.splice(e,1),t.type==l.a.TYPE_CLOGGED_TOILET&&(--this.numCloggedToilets,this.audioService.playSoundEffect(a.b.SFX_FLUSH),0==this.numCloggedToilets)){if(this.maze.endCell.hasWall(h.a.Right))this.maze.endCell.removeWall(h.a.Right);else for(var e=0;e<4;e++)this.maze.endCell.removeWall(e);this.renderWalls()}},t.prototype.nextLevel=function(){for(this.audioService.playMusic(a.b.MUSIC_LEVEL),++this.appState.levelNumber,this.random.seed=this.appState.levelNumber,this.appState.msUntilBathroomBreak=o.a.MS_UNTIL_BATHROOM_BREAK,this.appState.hasPlunger=this.appState.hasTP=!1,this.gridSize=5+Math.floor(this.appState.levelNumber/2),this.maze=h.b.generate(this.gridSize,this.gridSize,this.appState.levelNumber);!this.maze.iterate(););this.spriteScaling=(this.appState.canvasDimension-2*this.appState.canvasBorder)/(64*this.gridSize);for(var t=0;t<this.gridSize;t++)for(var e=0;e<this.gridSize;e++){var i=this.maze.getCell(t,e);if(i!=this.maze.startCell&&t>0&&e>0&&t<this.gridSize-1&&e<this.gridSize-1){var n;n=0;for(var s=0;s<4;s++)n+=i.hasWall(s)?1:0;if(n>=3){var c=Math.floor(4*this.random.nextDouble());switch(i.removeWall(c),c){case h.a.Left:this.maze.getCell(t-1,e).removeWall(h.a.Right);break;case h.a.Right:this.maze.getCell(t+1,e).removeWall(h.a.Left);break;case h.a.Top:this.maze.getCell(t,e-1).removeWall(h.a.Bottom);break;case h.a.Bottom:this.maze.getCell(t,e+1).removeWall(h.a.Top)}}}}this.renderFloors(),this.renderWalls(),this.player=new _.a(this.appState,this.audioService,this.eventPublisherService),this.player.x=this.maze.startCell.xPos,this.player.y=this.maze.startCell.yPos,this.player.type=r.a.WALK_RIGHT,this.sprites=[this.player];var p=1,u=Math.floor(2+this.appState.levelNumber/2),d=u,f=Math.max(1,d-2);for(this.numCloggedToilets=u,p=0;p--;){var m=this.createOtherSprite(l.a.TYPE_TOILET);m.offsetX=0,m.offsetY=10}for(;u--;){this.createOtherSprite(l.a.TYPE_CLOGGED_TOILET)}for(;d--;){var g=this.createOtherSprite(l.a.TYPE_PLUNGER),x=this.appState.levelNumber%4==0;!x||d||this.justLostLevel||(g.frame=1)}for(;f--;)this.createOtherSprite(l.a.TYPE_TP);for(var y=1;y--;){var E=this.createOtherSprite(l.a.TYPE_SOAP);E.startFrame=0,E.endFrame=2}this.justLostLevel=!1},t.prototype.renderFloors=function(){var t=this;if(!this.backgroundImage.width)return void setTimeout(function(){t.renderFloors()},100);var e=this.floorCanvas.getContext("2d");e.fillStyle="black",e.fillRect(0,0,this.floorCanvas.width,this.floorCanvas.height);for(var i=this.appState.levelNumber%4*128,n=0,r=this.appState.canvasBorder,s=(this.appState.canvasDimension-2*r)/this.gridSize,a=0;a<this.gridSize;a++)for(var h=0;h<this.gridSize;h++)e.drawImage(this.backgroundImage,i,n,128,128,a*s+r,h*s+r,s,s);e.fillStyle="black",e.fillRect(this.maze.endCell.xPos*s+r+s-10,this.maze.endCell.yPos*s+r,20,s)},t.prototype.renderWalls=function(){var t=this;if(!this.wallsImage.width)return void setTimeout(function(){t.renderWalls()},100);var e=this.wallsCanvas.getContext("2d");e.clearRect(0,0,this.appState.canvasDimension,this.appState.canvasDimension);for(var i=this.appState.canvasBorder,n=(this.appState.canvasDimension-2*i)/this.gridSize,r=80,s=0;s<this.gridSize;s++)for(var a=0;a<this.gridSize;a++)for(var o=this.maze.getCell(s,a),_=(64*this.spriteScaling,s*n-(r-64)/128*n+i),l=a*n-(r-64)/128*n+i,c=64,p=64,u=h.a.Top;u<=h.a.Left;u++)if(o.hasWall(u)){if(u==h.a.Top&&0!=a)continue;var c=64+128*u,p=64;c-=(r-64)/2,p-=(r-64)/2,o==this.maze.endCell&&u==h.a.Right?e.globalAlpha=.3:e.globalAlpha=1,e.drawImage(this.wallsImage,c,p,r,r,_,l,80*n/64,80*n/64)}},t.prototype.updateScreen=function(){var t=this.canvas;if(t&&this.appState.state==s.b.GAME_IN_PROGRESS){var e=t.getContext("2d");e.drawImage(this.floorCanvas,0,0,this.floorCanvas.width,this.floorCanvas.height),this.updatePlayer(),e.save(),e.scale(this.spriteScaling,this.spriteScaling);for(var i=this.sprites.length-1;i>=0;i--){var n=this.sprites[i];this.appState.isPaused||n.update(this),n.draw(e)}e.restore(),e.drawImage(this.wallsCanvas,0,0,this.wallsCanvas.width,this.wallsCanvas.height)}},t.prototype.onMouseDown=function(t){this.mousedown=!0,this.onMouseMove(t)},t.prototype.onMouseMove=function(t){var e=$(this.canvas).offset();this.event=t;var i=(t.clientX-e.left)/this.canvasScaling,n=(t.clientY-e.top)/this.canvasScaling,r=Math.floor(i/this.appState.canvasDimension*this.gridSize),s=Math.floor(n/this.appState.canvasDimension*this.gridSize);r=Math.max(0,Math.min(this.gridSize-1,r)),s=Math.max(0,Math.min(this.gridSize-1,s)),this.mouseTargetX=r,this.mouseTargetY=s,this.updatePlayer()},t.prototype.canMoveLeft=function(t,e){var i=this.getGridSize()-1;return!(t<=0||t>i||e<0||e>i)&&!(this.maze.getCell(t,e).hasWall(h.a.Left)||this.maze.getCell(t-1,e).hasWall(h.a.Right))},t.prototype.canMoveRight=function(t,e){var i=this.getGridSize()-1;return!(t<0||t>=i||e<0||e>i)&&!(this.maze.getCell(t,e).hasWall(h.a.Right)||this.maze.getCell(t+1,e).hasWall(h.a.Left))},t.prototype.canMoveUp=function(t,e){var i=this.getGridSize()-1;return!(t<0||t>i||e<=0||e>i)&&!(this.maze.getCell(t,e).hasWall(h.a.Top)||this.maze.getCell(t,e-1).hasWall(h.a.Bottom))},t.prototype.canMoveDown=function(t,e){var i=this.getGridSize()-1;return!(t<0||t>i||e<0||e>=i)&&!(this.maze.getCell(t,e).hasWall(h.a.Bottom)||this.maze.getCell(t,e+1).hasWall(h.a.Top))},t.prototype.handlePlayerMove=function(t,e){var i=Math.floor(this.player.x),n=Math.floor(this.player.y),r=i+64*t,s=n+64*e,a=this.maze.getCell(i,n),h=!1;if(a!==this.maze.endCell||this.numCloggedToilets||(h=!0),Math.abs(t)>Math.abs(e)){var o;r<i&&(h||this.canMoveLeft(i,n))?o=i-1:r>i&&(h||this.canMoveRight(i,n))&&(o=i+1),void 0!=o&&(this.player.y=Math.round(this.player.y),this.player.go(o,this.player.y))}else{var _;s<n&&(h||this.canMoveUp(i,n))?_=n-1:s>n&&(h||this.canMoveDown(i,n))&&(_=n+1),void 0!=_&&(this.player.x=Math.round(this.player.x),this.player.go(this.player.x,_))}},t.prototype.updatePlayer=function(){var t=this.mouseTargetX,e=this.mouseTargetY,i=Math.floor(this.player.x),n=Math.floor(this.player.y);if(void 0==this.player.targetX){if(this.keyDown[37])t=i-64*this.spriteScaling,e=n;else if(this.keyDown[39])t=i+64*this.spriteScaling,e=n;else if(this.keyDown[38])t=i,e=n-64*this.spriteScaling;else if(this.keyDown[40])t=i,e=n+64*this.spriteScaling;else if(!this.mousedown)return;var r=this.maze.getCell(i,n),s=!1;r!==this.maze.endCell||this.numCloggedToilets||(s=!0);var a=Math.abs(i-t),h=Math.abs(n-e);if(a>h){var o;t<i&&(s||this.canMoveLeft(i,n))?o=i-1:t>i&&(s||this.canMoveRight(i,n))&&(o=i+1),void 0!=o&&(this.player.y=Math.round(this.player.y),this.player.go(o,this.player.y))}else{var _;e<n&&(s||this.canMoveUp(i,n))?_=n-1:e>n&&(s||this.canMoveDown(i,n))&&(_=n+1),void 0!=_&&(this.player.x=Math.round(this.player.x),this.player.go(this.player.x,_))}}},t.prototype.dropItem=function(){var t=this.appState.hasTP,e=this.appState.hasPlunger;if((t||e)&&(this.audioService.playSoundEffect(a.b.SFX_DROP),this.appState.hasTP=this.appState.hasPlunger=!1),this.player.pickup(this),t&&(this.createOtherSprite(l.a.TYPE_TP,this.player.x,this.player.y),this.appState.justDropped=!0),e){var i=this.createOtherSprite(l.a.TYPE_PLUNGER,this.player.x,this.player.y);this.appState.hasGoldenPlunger&&(i.frame=1,this.appState.hasGoldenPlunger=!1),this.appState.justDropped=!0}},t.prototype.useSoap=function(){this.appState.msUntilSoapDone=o.a.MS_UNTIL_SOAP_WEARS_OFF},t.prototype.useToilet=function(){this.appState.score+=10,this.appState.msUntilBathroomBreak=o.a.MS_UNTIL_BATHROOM_BREAK},t.ctorParameters=function(){return[{type:n.ElementRef},{type:s.a},{type:a.a},{type:u.a},{type:d.a}]},t.ctorParameters=function(){return[{type:n.ElementRef},{type:s.a},{type:a.a},{type:u.a},{type:d.a}]},t}()},232:function(t,e,i){"use strict";var n=i(19);i.d(e,"a",function(){return r});var r=function(){function t(t){this.appState=t,this.isCopied=!1}return t.prototype.ngOnInit=function(){this.bragMessage="I scored "+this.appState.highScore+" on "+window.location.href+", a fun and silly game of plungers and toilets! Can you beat my score?"},t.prototype.onClose=function(){this.appState.state=n.b.GAME_INTRO},t.ctorParameters=function(){return[{type:n.a}]},t}()},233:function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n=function(){function t(t,e,i,n,r){void 0===e&&(e=64),void 0===i&&(i=64),void 0===n&&(n=0),void 0===r&&(r=0),this.elementWidth=e,this.elementHeight=i,this.offsetX=n,this.offsetY=r,this.image=new Image,this.image.src=t}return t.prototype.draw=function(t,e,i,n,r,s,a){void 0===s&&(s=1),void 0===a&&(a=1);var h=e*this.elementWidth+this.offsetX,o=i*this.elementHeight+this.offsetY,_=this.elementWidth,l=this.elementHeight,c=this.elementWidth*s,p=this.elementHeight*s;t.drawImage(this.image,h,o,_,l,n,r,c,p)},t}()},234:function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n=function(){function t(){this.x=0,this.y=0,this.offsetX=0,this.offsetY=0,this.type=0,this.frame=0,this.startFrame=0,this.endFrame=0,this.frameDirection=.2}return t.prototype.draw=function(t,e){void 0===e&&(e=1);var i=64*this.x+(64-64*e)/2+this.offsetX,n=64*this.y+(64-64*e)/2+this.offsetY;t.shadowOffsetX=-10,t.shadowOffsetY=10,t.shadowColor="black",t.shadowBlur=30,this.spriteMap.draw(t,Math.floor(this.frame),this.type,i,n,e,e)},t.prototype.update=function(t){this.startFrame!=this.endFrame&&(this.frame+=this.frameDirection,(this.frame<this.startFrame||this.frame>=this.endFrame+1)&&(this.frameDirection=-this.frameDirection,this.frame+=this.frameDirection))},t}()},235:function(t,e,i){"use strict";var n=i(108),r=i(19),s=i(56),a=i(73);i.d(e,"a",function(){return h});var h=function(){function t(t,e){this.appState=t,this.audioService=e,this.playerCharacters=["boy","girl2","boy2","sara","orc"],this.characterMaps={},this.frame=0,this.allowFlipDirection=!0,this.action=n.a.DANCE1}return t.prototype.ngOnInit=function(){var t=this;this.playerCharacters.forEach(function(e){t.characterMaps[e]=new n.a(e)}),this.selected=null;setInterval(function(){t.appState.state==r.b.GAME_INTRO&&(t.frame+=.33,t.updateFrames())},a.a.MS_PER_FRAME)},t.prototype.ngDoCheck=function(){this.appState.state==r.b.GAME_INTRO&&this.audioService.playMusic(s.b.MUSIC_STARTSCREEN)},t.prototype.updateFrames=function(){var t=this,e=Math.floor(this.frame);this.selected||(e%12==1?this.allowFlipDirection&&(this.action=this.action==n.a.DANCE1?n.a.DANCE3:n.a.DANCE1,this.allowFlipDirection=!1):this.allowFlipDirection=!0),this.playerCharacters.forEach(function(i,n){var r=t.action,s=10,a=20;t.selected?t.selected==i?(r=1&Math.floor(t.frame/10)?15:13,0==n?r=15:n==t.playerCharacters.length-1&&(r=13),e=Math.min(Math.floor(t.frame)%10,5)):(r=20,a=10+t.frame*t.frame,e=Math.min(e,5)):(e%=12,e>5&&(e=11-e));var h=$("#"+i);if(h.length){h=h[0];var o=h.getContext("2d");o.clearRect(0,0,200,200),t.characterMaps[i].drawFrame(o,r,e,s,a,2,2)}})},t.prototype.select=function(t){var e=this;this.frame=0,this.selected=t,this.appState.character=this.characterMaps[t];var i=1800,n=this.playerCharacters.indexOf(t);0!=n&&n!=this.playerCharacters.length-1||(i=1e3),setTimeout(function(){e.appState.state=r.b.GAME_STARTING,e.selected=null},i)},t.ctorParameters=function(){return[{type:r.a},{type:s.a}]},t.ctorParameters=function(){return[{type:r.a},{type:s.a}]},t}()},281:function(t,e){function i(t){throw new Error("Cannot find module '"+t+"'.")}i.keys=function(){return[]},i.resolve=i,t.exports=i,i.id=281},282:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(i(370),i(1)),r=i(369),s=i(222),a=i(355);r.a.production&&i.i(n.enableProdMode)(),i.i(s.a)().bootstrapModuleFactory(a.a)},349:function(t,e,i){"use strict";var n=i(350);i.d(e,"a",function(){return r});var r=function(){function t(t){this.list=new Array(t),this.index=0}return t.prototype.createSet=function(t){var e=new n.a,i=e.append(t);this.list[this.index++]=i},t.prototype.findSet=function(t){for(var e=0,i=this.list;e<i.length;e++){var n=i[e];if(n&&n.data.equals(t))return n.list}return null},t.prototype.mergeSet=function(t,e){var i=this.findSet(t),n=this.findSet(e);i.size>n.size?i.merge(n):n.merge(i)},t}()},350:function(t,e,i){"use strict";i.d(e,"a",function(){return r});var n=function(){function t(t,e){this.next=this.prev=null,this.data=t,this.list=e}return t.prototype.unlink=function(){this.list.unlink(this)},t}(),r=function(){function t(){this.head=this.tail=null,this.size=0}return t.prototype.append=function(t){var e=this.createNode(t);return null!=this.tail?(e.prev=this.tail,this.tail.next=e):this.head=e,this.tail=e,this.size++,e},t.prototype.prepend=function(t){var e=this.createNode(t);null!=this.head?(e.next=this.head,this.head.prev=e):this.tail=e,this.head=e,this.size++},t.prototype.createNode=function(t){return new n(t,this)},t.prototype.removeHead=function(){var t=this.head;return this.size>1?(this.head=this.head.next,null==this.head&&(this.tail=null),this.size--):(this.head=this.tail=null,this.size=0),t.data},t.prototype.removeTail=function(){var t=this.tail;return this.size>1?(this.tail=this.tail.prev,null==this.tail&&(this.head=null),this.size--):(this.head=this.tail=null,this.size=0),t.data},t.prototype.unlink=function(t){t===this.head?this.head=this.head.next:t===this.tail&&(this.tail=this.tail.prev);var e=t.next;return null!=t.prev&&(t.prev.next=t.next),null!=t.next&&(t.next.prev=t.prev),null==this.head&&(this.tail=null),this.size--,e},t.prototype.merge=function(t){if(null!=t.head){for(var e=t.head,i=0;i<t.size;i++)e.list=this,e=e.next;null!=this.head?(this.tail.next=t.head,this.tail=t.tail):(this.head=t.head,this.tail=t.tail),this.size+=t.size}},t.prototype.clear=function(){this.head=this.tail=null},Object.defineProperty(t.prototype,"iterator",{get:function(){return new s(this)},enumerable:!0,configurable:!0}),t.prototype.nodeOf=function(t,e){void 0===e&&(e=null);for(var i=null==e?this.head:e;null!=i&&!i.data.equals(t);)i=i.next;return i},t.prototype.contains=function(t){for(var e=this.head;null!=e;){if(e.data.equals(t))return!0;e=e.next}return!1},t}(),s=function(){function t(t){this.list=t,this.reset()}return t.prototype.reset=function(){this.walker=this.list.head},t.prototype.hasNext=function(){return null!=this.walker},t.prototype.next=function(){var t=this.walker.data;return this.walker=this.walker.next,t},t}()},351:function(t,e,i){"use strict";i.d(e,"a",function(){return n}),i.d(e,"b",function(){return r});var n=function(){function t(t,e){this.xPos=t,this.yPos=e,this.visited=!1,this.wallList=new Array,this.initialize()}return t.prototype.equals=function(t){return this===t},t.prototype.walls=function(){return this.wallList.length},t}(),r=function(){function t(){}return Object.defineProperty(t.prototype,"startCell",{get:function(){return this.gridStartCell},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endCell",{get:function(){return this.gridEndCell},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.gridWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.gridHeight},enumerable:!0,configurable:!0}),t}()},352:function(t,e,i){"use strict";var n=i(349),r=i(227),s=i(351);i.d(e,"a",function(){return a}),i.d(e,"b",function(){return l});var a,h=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)};!function(t){t[t.Top=0]="Top",t[t.Right=1]="Right",t[t.Bottom=2]="Bottom",t[t.Left=3]="Left"}(a||(a={}));var o=function(t){function e(){t.apply(this,arguments)}return h(e,t),e.prototype.removeWall=function(t){t>=0&&t<this.wallList.length&&(this.wallList[t]=!1)},e.prototype.addWall=function(t){t>=0&&t<this.wallList.length&&(this.wallList[t]=!0)},e.prototype.hasWall=function(t){return t>=0&&t<this.wallList.length&&this.wallList[t]},e.prototype.initialize=function(){this.wallList.push(!0),this.wallList.push(!0),this.wallList.push(!0),this.wallList.push(!0)},e}(s.a),_=function(){function t(t,e){this.cellA=t,this.cellB=e}return t.prototype.equals=function(t){return this.cellA===t.cellA&&this.cellB===t.cellB||this.cellB===t.cellA&&this.cellA===t.cellB},t}(),l=function(t){function e(e,i){t.call(this),this.gridWidth=e,this.gridHeight=i}return h(e,t),e.generate=function(t,i,n){void 0===n&&(n=1);var s=new e(t,i),a=new r.a;return a.seed=n>0?n:(new Date).getTime(),s.initGrid(a),s.createExitCells(a),s},e.prototype.initGrid=function(t){this.shift=0;for(var e=this.gridWidth*this.gridHeight,i=1;i<e;)i*=2,this.shift++;this.grid=new Array(this.gridWidth<<this.shift);for(var r=0;r<this.gridWidth;r++)for(var s=0;s<this.gridHeight;s++){var a=r<<this.shift|s;this.grid[a]=new o(r,s)}this.wallList=new Array;for(var h,r=0;r<this.width;r++)for(var s=0;s<this.height;s++){var l=this.getCell(r,s),c=void 0;r>0&&(c=this.getCell(r-1,s),null!=c&&(h=new _(l,c),this.wallList.some(function(t){return h.equals(t)})||this.wallList.push(h))),s>0&&(c=this.getCell(r,s-1),null!=c&&(h=new _(l,c),this.wallList.some(function(t){return h.equals(t)})||this.wallList.push(h))),r<this.width-1&&(c=this.getCell(r+1,s),null!=c&&(h=new _(l,c),this.wallList.some(function(t){return h.equals(t)})||this.wallList.push(h))),s<this.height-1&&(c=this.getCell(r,s+1),null!=c&&(h=new _(l,c),this.wallList.some(function(t){return h.equals(t)})||this.wallList.push(h)))}for(var p=this.wallList.length;p>1;){p--;var u=t.nextIntRange(0,p),d=this.wallList[p];this.wallList[p]=this.wallList[u],this.wallList[u]=d}this.sets=new n.a(this.width*this.height);for(var r=0;r<this.width;r++)for(var s=0;s<this.height;s++){var f=this.getCell(r,s);this.sets.createSet(f)}},e.prototype.iterate=function(){var t=this.getNextWall();return null==t||(this.sets.mergeSet(t.cellA,t.cellB),t.cellA.xPos>t.cellB.xPos?(t.cellA.removeWall(a.Left),t.cellB.removeWall(a.Right)):t.cellA.yPos>t.cellB.yPos?(t.cellA.removeWall(a.Top),t.cellB.removeWall(a.Bottom)):t.cellA.xPos<t.cellB.xPos?(t.cellA.removeWall(a.Right),t.cellB.removeWall(a.Left)):t.cellA.yPos<t.cellB.yPos&&(t.cellA.removeWall(a.Bottom),t.cellB.removeWall(a.Top)),t.cellA.visited=!0,t.cellB.visited=!0,!1)},e.prototype.getCell=function(t,e){var i=t<<this.shift|e;return this.grid[i]},e.prototype.getNextWall=function(){if(this.wallList.length>0){for(var t=this.wallList.pop();this.sets.findSet(t.cellA)===this.sets.findSet(t.cellB);){if(!(this.wallList.length>0))return null;t=this.wallList.pop()}return t}return null},e.prototype.createExitCells=function(t){var e=t.nextIntRange(0,3),i=0,n=0;switch(e){case a.Top:i=t.nextIntRange(0,this.gridWidth-1),n=0;case a.Right:n=t.nextIntRange(0,this.gridHeight-1),i=this.gridWidth-1;case a.Bottom:i=t.nextIntRange(0,this.gridWidth-1),n=this.gridHeight-1;case a.Left:n=t.nextIntRange(0,this.gridHeight-1),i=0}switch(this.gridStartCell=this.getCell(i,n),e){case a.Top:i=t.nextIntRange(0,this.gridWidth-1),n=this.gridHeight-1;case a.Right:n=t.nextIntRange(0,this.gridHeight-1),i=0;case a.Bottom:i=t.nextIntRange(0,this.gridWidth-1),n=0;case a.Left:n=t.nextIntRange(0,this.gridHeight-1),i=this.gridWidth-1}this.gridEndCell=this.getCell(i,n)},e}(s.b)},353:function(t,e,i){"use strict";var n=i(365),r=i(51),s=i(12),a=i(42),h=i(237),o=(i.n(h),i(19)),_=i(56),l=i(158),c=i(57),p=i(28),u=i(27),d=i(36),f=i(236),m=(i.n(f),i(354)),g=i(235),x=i(362),y=i(231),E=i(359),v=i(230),S=i(356),b=i(228),w=i(232),T=i(360),R=i(17),A=i(37),P=i(157);i.d(e,"a",function(){return N});var I=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},M=function(){function t(t){this._changed=!1,this.context=new n.a(t);
}return t.prototype.ngOnDetach=function(t,e,i){},t.prototype.ngOnDestroy=function(){},t.prototype.ngDoCheck=function(t,e,i){var n=this._changed;return this._changed=!1,i||(0===t.numberOfChecks&&this.context.ngOnInit(),this.context.ngDoCheck()),n},t.prototype.checkHost=function(t,e,i,n){},t.prototype.handleEvent=function(t,e){var i=!0;return i},t.prototype.subscribe=function(t,e){this._eventHandler=e},t}(),C=s.createRenderComponentType("",0,a.b.None,[],{}),O=function(t){function e(i,n,r,s){t.call(this,e,C,p.a.HOST,i,n,r,s,u.b.CheckAlways)}return I(e,t),Object.defineProperty(e.prototype,"_AudioService_0_6",{get:function(){return null==this.__AudioService_0_6&&(this.__AudioService_0_6=new _.a),this.__AudioService_0_6},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_UserInputService_0_7",{get:function(){return null==this.__UserInputService_0_7&&(this.__UserInputService_0_7=new l.a),this.__UserInputService_0_7},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_EventPublisherService_0_8",{get:function(){return null==this.__EventPublisherService_0_8&&(this.__EventPublisherService_0_8=new c.a),this.__EventPublisherService_0_8},enumerable:!0,configurable:!0}),e.prototype.createInternal=function(t){return this._el_0=s.selectOrCreateRenderHostElement(this.renderer,"app-root",s.EMPTY_INLINE_ARRAY,t,null),this.compView_0=new D(this.viewUtils,this,0,this._el_0),this._CookieService_0_3=new h.CookieService(this.injectorGet(f.CookieOptions,this.parentIndex)),this._AppStateService_0_4=new o.a(this._CookieService_0_3),this._AppComponent_0_5=new M(this._AppStateService_0_4),this.compView_0.create(this._AppComponent_0_5.context),this.init(this._el_0,this.renderer.directRenderer?null:[this._el_0],null),new d.a(0,this,this._el_0,this._AppComponent_0_5.context)},e.prototype.injectorGetInternal=function(t,e,i){return t===h.CookieService&&0===e?this._CookieService_0_3:t===o.a&&0===e?this._AppStateService_0_4:t===n.a&&0===e?this._AppComponent_0_5.context:t===_.a&&0===e?this._AudioService_0_6:t===l.a&&0===e?this._UserInputService_0_7:t===c.a&&0===e?this._EventPublisherService_0_8:i},e.prototype.detectChangesInternal=function(t){this._AppComponent_0_5.ngDoCheck(this,this._el_0,t),this.compView_0.internalDetectChanges(t)},e.prototype.destroyInternal=function(){this.compView_0.destroy()},e.prototype.visitRootNodesInternal=function(t,e){t(this._el_0,e)},e}(r.a),N=new d.b("app-root",O,n.a),L=[m.a],k=s.createRenderComponentType("",0,a.b.Emulated,L,{}),D=function(t){function e(i,n,r,s){t.call(this,e,k,p.a.COMPONENT,i,n,r,s,u.b.CheckAlways),this._expr_67=R.b,this._expr_68=R.b,this._expr_69=R.b,this._expr_70=R.b,this._expr_71=R.b,this._expr_72=R.b}return I(e,t),e.prototype.createInternal=function(t){var e=this.renderer.createViewRoot(this.parentElement);return this._el_0=s.createRenderElement(this.renderer,e,"div",new s.InlineArray2(2,"class","game-parent"),null),this._text_1=this.renderer.createText(this._el_0,"\n\n  ",null),this._el_2=s.createRenderElement(this.renderer,this._el_0,"div",new s.InlineArray2(2,"class","fluid-container max-height splash-screen"),null),this._text_3=this.renderer.createText(this._el_2,"\n    ",null),this._el_4=s.createRenderElement(this.renderer,this._el_2,"div",new s.InlineArray8(6,"class","max-height","layout","row","layout-align","center"),null),this._text_5=this.renderer.createText(this._el_4,"\n      ",null),this._el_6=s.createRenderElement(this.renderer,this._el_4,"img",new s.InlineArray2(2,"src","assets/fledermoose-logo.jpg"),null),this._text_7=this.renderer.createText(this._el_4,"\n    ",null),this._text_8=this.renderer.createText(this._el_2,"\n    ",null),this._el_9=s.createRenderElement(this.renderer,this._el_2,"h1",s.EMPTY_INLINE_ARRAY,null),this._text_10=this.renderer.createText(this._el_9," PRESENTS...",null),this._text_11=this.renderer.createText(this._el_2,"\n  ",null),this._text_12=this.renderer.createText(this._el_0,"\n\n\n  ",null),this._el_13=s.createRenderElement(this.renderer,this._el_0,"div",new s.InlineArray2(2,"class","fluid-container max-height"),null),this._text_14=this.renderer.createText(this._el_13,"\n    ",null),this._el_15=s.createRenderElement(this.renderer,this._el_13,"start-screen",s.EMPTY_INLINE_ARRAY,null),this.compView_15=new x.a(this.viewUtils,this,15,this._el_15),this._StartScreenComponent_15_3=new x.b(this.parentView.injectorGet(o.a,this.parentIndex),this.parentView.injectorGet(_.a,this.parentIndex)),this.compView_15.create(this._StartScreenComponent_15_3.context),this._text_16=this.renderer.createText(this._el_13,"\n  ",null),this._text_17=this.renderer.createText(this._el_0,"\n\n  ",null),this._el_18=s.createRenderElement(this.renderer,this._el_0,"div",new s.InlineArray2(2,"class","fluid-container max-height"),null),this._text_19=this.renderer.createText(this._el_18,"\n\n    ",null),this._el_20=s.createRenderElement(this.renderer,this._el_18,"div",new s.InlineArray2(2,"class","row max-height"),null),this._text_21=this.renderer.createText(this._el_20,"\n\n      ",null),this._el_22=s.createRenderElement(this.renderer,this._el_20,"div",new s.InlineArray2(2,"class","col s7 max-height"),null),this._text_23=this.renderer.createText(this._el_22,"\n        ",null),this._el_24=s.createRenderElement(this.renderer,this._el_22,"game",s.EMPTY_INLINE_ARRAY,null),this.compView_24=new E.a(this.viewUtils,this,24,this._el_24),this._GameComponent_24_3=new E.b(new A.a(this._el_24),this.parentView.injectorGet(o.a,this.parentIndex),this.parentView.injectorGet(_.a,this.parentIndex),this.parentView.injectorGet(c.a,this.parentIndex),this.parentView.injectorGet(l.a,this.parentIndex)),this.compView_24.create(this._GameComponent_24_3.context),this._text_25=this.renderer.createText(this._el_22,"\n      ",null),this._text_26=this.renderer.createText(this._el_20,"\n\n      ",null),this._el_27=s.createRenderElement(this.renderer,this._el_20,"div",new s.InlineArray2(2,"class","col s5 max-height"),null),this._text_28=this.renderer.createText(this._el_27,"\n        ",null),this._el_29=s.createRenderElement(this.renderer,this._el_27,"game-dashboard",s.EMPTY_INLINE_ARRAY,null),this.compView_29=new S.a(this.viewUtils,this,29,this._el_29),this._GameDashboardComponent_29_3=new S.b(new A.a(this._el_29),this.parentView.injectorGet(o.a,this.parentIndex),this.parentView.injectorGet(c.a,this.parentIndex)),this.compView_29.create(this._GameDashboardComponent_29_3.context),this._text_30=this.renderer.createText(this._el_27,"\n      ",null),this._text_31=this.renderer.createText(this._el_20,"\n    ",null),this._text_32=this.renderer.createText(this._el_18,"\n  ",null),this._text_33=this.renderer.createText(this._el_0,"\n\n  ",null),this._el_34=s.createRenderElement(this.renderer,this._el_0,"div",new s.InlineArray2(2,"class","death-screen"),null),this._ScaleToWidthDirective_34_3=new b.a(new A.a(this._el_34)),this._text_35=this.renderer.createText(this._el_34,"\n    ",null),this._el_36=s.createRenderElement(this.renderer,this._el_34,"div",s.EMPTY_INLINE_ARRAY,null),this._text_37=this.renderer.createText(this._el_36,"\n      ",null),this._el_38=s.createRenderElement(this.renderer,this._el_36,"h1",s.EMPTY_INLINE_ARRAY,null),this._text_39=this.renderer.createText(this._el_38," YOU POOPED YOUR PANTS! ",null),this._text_40=this.renderer.createText(this._el_36,"\n    ",null),this._text_41=this.renderer.createText(this._el_34,"\n  ",null),this._text_42=this.renderer.createText(this._el_0,"\n\n  ",null),this._el_43=s.createRenderElement(this.renderer,this._el_0,"div",new s.InlineArray2(2,"class","death-screen"),null),this._ScaleToWidthDirective_43_3=new b.a(new A.a(this._el_43)),this._text_44=this.renderer.createText(this._el_43,"\n    ",null),this._el_45=s.createRenderElement(this.renderer,this._el_43,"div",s.EMPTY_INLINE_ARRAY,null),this._text_46=this.renderer.createText(this._el_45,"\n      ",null),this._el_47=s.createRenderElement(this.renderer,this._el_45,"h1",s.EMPTY_INLINE_ARRAY,null),this._text_48=this.renderer.createText(this._el_47," NEXT TIME GRAB A PLUNGER! ",null),this._text_49=this.renderer.createText(this._el_45,"\n    ",null),this._text_50=this.renderer.createText(this._el_43,"\n  ",null),this._text_51=this.renderer.createText(this._el_0,"\n\n",null),this._el_52=s.createRenderElement(this.renderer,this._el_0,"div",new s.InlineArray2(2,"class","death-screen"),null),this._ScaleToWidthDirective_52_3=new b.a(new A.a(this._el_52)),this._text_53=this.renderer.createText(this._el_52,"\n  ",null),this._el_54=s.createRenderElement(this.renderer,this._el_52,"high-score",s.EMPTY_INLINE_ARRAY,null),this.compView_54=new T.a(this.viewUtils,this,54,this._el_54),this._HighScoreComponent_54_3=new T.b(this.parentView.injectorGet(o.a,this.parentIndex)),this.compView_54.create(this._HighScoreComponent_54_3.context),this._text_55=this.renderer.createText(this._el_52,"\n",null),this.init(null,this.renderer.directRenderer?null:[this._el_0,this._text_1,this._el_2,this._text_3,this._el_4,this._text_5,this._el_6,this._text_7,this._text_8,this._el_9,this._text_10,this._text_11,this._text_12,this._el_13,this._text_14,this._el_15,this._text_16,this._text_17,this._el_18,this._text_19,this._el_20,this._text_21,this._el_22,this._text_23,this._el_24,this._text_25,this._text_26,this._el_27,this._text_28,this._el_29,this._text_30,this._text_31,this._text_32,this._text_33,this._el_34,this._text_35,this._el_36,this._text_37,this._el_38,this._text_39,this._text_40,this._text_41,this._text_42,this._el_43,this._text_44,this._el_45,this._text_46,this._el_47,this._text_48,this._text_49,this._text_50,this._text_51,this._el_52,this._text_53,this._el_54,this._text_55],null),null},e.prototype.injectorGetInternal=function(t,e,i){return t===g.a&&15===e?this._StartScreenComponent_15_3.context:t===y.a&&24===e?this._GameComponent_24_3.context:t===v.a&&29===e?this._GameDashboardComponent_29_3.context:t===P.a&&34<=e&&e<=41?this._ScaleToWidthDirective_34_3.context:t===P.a&&43<=e&&e<=50?this._ScaleToWidthDirective_43_3.context:t===w.a&&54===e?this._HighScoreComponent_54_3.context:t===P.a&&52<=e&&e<=55?this._ScaleToWidthDirective_52_3.context:i},e.prototype.detectChangesInternal=function(t){this._StartScreenComponent_15_3.ngDoCheck(this,this._el_15,t),this._GameComponent_24_3.ngDoCheck(this,this._el_24,t),this._GameDashboardComponent_29_3.ngDoCheck(this,this._el_29,t);var e=800;this._ScaleToWidthDirective_34_3.check_appScaleToWidth(e,t,!1),this._ScaleToWidthDirective_34_3.ngDoCheck(this,this._el_34,t);var i=800;this._ScaleToWidthDirective_43_3.check_appScaleToWidth(i,t,!1),this._ScaleToWidthDirective_43_3.ngDoCheck(this,this._el_43,t);var n=800;this._ScaleToWidthDirective_52_3.check_appScaleToWidth(n,t,!1),this._ScaleToWidthDirective_52_3.ngDoCheck(this,this._el_52,t),this._HighScoreComponent_54_3.ngDoCheck(this,this._el_54,t);var r=this.context.appState.state!=this.context.GAME_SPLASH_SCREEN;s.checkBinding(t,this._expr_67,r)&&(this.renderer.setElementProperty(this._el_2,"hidden",r),this._expr_67=r);var a=this.context.appState.state!=this.context.GAME_INTRO;s.checkBinding(t,this._expr_68,a)&&(this.renderer.setElementProperty(this._el_13,"hidden",a),this._expr_68=a);var h=this.context.appState.state!=this.context.GAME_IN_PROGRESS&&this.context.appState.state!=this.context.GAME_STARTING&&this.context.appState.state!=this.context.GAME_LOST_LIFE_POOPED_PANTS&&this.context.appState.state!=this.context.GAME_LOST_LIFE_HIT_MONSTER;s.checkBinding(t,this._expr_69,h)&&(this.renderer.setElementProperty(this._el_18,"hidden",h),this._expr_69=h);var o=this.context.appState.state!=this.context.GAME_LOST_LIFE_POOPED_PANTS;s.checkBinding(t,this._expr_70,o)&&(this.renderer.setElementProperty(this._el_34,"hidden",o),this._expr_70=o);var _=this.context.appState.state!=this.context.GAME_LOST_LIFE_HIT_MONSTER;s.checkBinding(t,this._expr_71,_)&&(this.renderer.setElementProperty(this._el_43,"hidden",_),this._expr_71=_);var l=this.context.appState.state!=this.context.GAME_NEW_HIGHSCORE;s.checkBinding(t,this._expr_72,l)&&(this.renderer.setElementProperty(this._el_52,"hidden",l),this._expr_72=l),this.compView_15.internalDetectChanges(t),this.compView_24.internalDetectChanges(t),this.compView_29.internalDetectChanges(t),this.compView_54.internalDetectChanges(t)},e.prototype.destroyInternal=function(){this.compView_15.destroy(),this.compView_24.destroy(),this.compView_29.destroy(),this.compView_54.destroy()},e}(r.a)},354:function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n=[".game-parent[_ngcontent-%COMP%]{font-family:Mozart;background-color:#000;color:#fff;position:absolute;width:100%;height:100%;padding:10px}.game-parent[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.game-col[_ngcontent-%COMP%]{position:absolute;height:100%}.max-height[_ngcontent-%COMP%]{height:100%;overflow:hidden}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{width:100%;text-align:center}.death-screen[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.7);overflow:hidden;z-index:10000}@-webkit-keyframes death-text{0%{opacity:.2;-webkit-transform:scale(.85);transform:scale(.85)}10%{opacity:.4;-webkit-transform:scale(1);transform:scale(1)}20%{opacity:.6;-webkit-transform:scale(.85);transform:scale(.85)}30%{opacity:.8;-webkit-transform:scale(1);transform:scale(1)}40%{opacity:1;-webkit-transform:scale(.85);transform:scale(.85)}50%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}60%{opacity:1;-webkit-transform:scale(.85);transform:scale(.85)}70%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}80%{opacity:1;-webkit-transform:scale(.85);transform:scale(.85)}90%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}to{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@keyframes death-text{0%{opacity:.2;-webkit-transform:scale(.85);transform:scale(.85)}10%{opacity:.4;-webkit-transform:scale(1);transform:scale(1)}20%{opacity:.6;-webkit-transform:scale(.85);transform:scale(.85)}30%{opacity:.8;-webkit-transform:scale(1);transform:scale(1)}40%{opacity:1;-webkit-transform:scale(.85);transform:scale(.85)}50%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}60%{opacity:1;-webkit-transform:scale(.85);transform:scale(.85)}70%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}80%{opacity:1;-webkit-transform:scale(.85);transform:scale(.85)}90%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}to{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}.death-screen[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards;font-size:80px;-webkit-animation-duration:2s;animation-duration:2s;-webkit-animation-name:death-text;animation-name:death-text;position:absolute;height:10%;margin-top:20%}.splash-screen[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;overflow:hidden}@-webkit-keyframes image{0%{opacity:0;-webkit-transform:translate(-50%) scale(1);transform:translate(-50%) scale(1)}40%{-webkit-transform:translate(-50%) scale(1.5);transform:translate(-50%) scale(1.5)}70%{opacity:1;-webkit-transform:translate(-50%) scale(1);transform:translate(-50%) scale(1)}to{opacity:1}}@keyframes image{0%{opacity:0;-webkit-transform:translate(-50%) scale(1);transform:translate(-50%) scale(1)}40%{-webkit-transform:translate(-50%) scale(1.5);transform:translate(-50%) scale(1.5)}70%{opacity:1;-webkit-transform:translate(-50%) scale(1);transform:translate(-50%) scale(1)}to{opacity:1}}@-webkit-keyframes text{0%{opacity:0;-webkit-transform:translate(-50%) scale(0);transform:translate(-50%) scale(0)}50%{opacity:0;-webkit-transform:translate(-50%) scale(0);transform:translate(-50%) scale(0)}80%{opacity:1;-webkit-transform:translate(-50%) scale(2);transform:translate(-50%) scale(2)}to{opacity:1;-webkit-transform:translate(-50%) scale(2);transform:translate(-50%) scale(2)}}@keyframes text{0%{opacity:0;-webkit-transform:translate(-50%) scale(0);transform:translate(-50%) scale(0)}50%{opacity:0;-webkit-transform:translate(-50%) scale(0);transform:translate(-50%) scale(0)}80%{opacity:1;-webkit-transform:translate(-50%) scale(2);transform:translate(-50%) scale(2)}to{opacity:1;-webkit-transform:translate(-50%) scale(2);transform:translate(-50%) scale(2)}}.splash-screen[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards;-webkit-transform-origin:50% 0;transform-origin:50% 0;-webkit-animation-duration:8s;animation-duration:8s;-webkit-animation-name:image;animation-name:image;position:absolute;height:50%;top:5%;left:50%;-webkit-transform:translate(-50%,10%);transform:translate(-50%,10%)}.splash-screen[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards;-webkit-transform-origin:50% 100%;transform-origin:50% 100%;-webkit-animation-duration:5s;animation-duration:5s;-webkit-animation-name:text;animation-name:text;position:absolute;height:10%;bottom:10%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}"]},355:function(t,e,i){"use strict";var n=i(132),r=i(366),s=i(180),a=i(192),h=i(150),o=i(207),_=i(332),l=i(334),c=i(373),p=(i.n(c),i(530)),u=i(64),d=i(85),f=i(95),m=i(86),g=i(50),x=i(106),y=i(44),E=i(107),v=i(105),S=i(155),b=i(122),w=i(12),T=i(151),R=i(70),A=i(147),P=i(100),I=i(218),M=i(148),C=i(353),O=i(131),N=i(65),L=i(152),k=i(153),D=i(69),G=i(104),F=i(88),H=i(129),Y=i(72),V=i(103),W=i(93),U=i(94),z=i(66),B=i(124),j=i(71),X=i(220);i.d(e,"a",function(){return q});var K=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},$=function(t){function e(e){t.call(this,e,[C.a],[C.a])}return K(e,t),Object.defineProperty(e.prototype,"_LOCALE_ID_9",{get:function(){return null==this.__LOCALE_ID_9&&(this.__LOCALE_ID_9=a.a(this.parent.get(O.a,null))),this.__LOCALE_ID_9},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_NgLocalization_10",{get:function(){return null==this.__NgLocalization_10&&(this.__NgLocalization_10=new u.a(this._LOCALE_ID_9)),this.__NgLocalization_10},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_ApplicationRef_15",{get:function(){return null==this.__ApplicationRef_15&&(this.__ApplicationRef_15=this._ApplicationRef__14),this.__ApplicationRef_15},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_Compiler_16",{get:function(){return null==this.__Compiler_16&&(this.__Compiler_16=new g.a),this.__Compiler_16},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_APP_ID_17",{get:function(){return null==this.__APP_ID_17&&(this.__APP_ID_17=N.a()),this.__APP_ID_17},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_DOCUMENT_18",{get:function(){return null==this.__DOCUMENT_18&&(this.__DOCUMENT_18=h.a()),this.__DOCUMENT_18},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_HAMMER_GESTURE_CONFIG_19",{get:function(){return null==this.__HAMMER_GESTURE_CONFIG_19&&(this.__HAMMER_GESTURE_CONFIG_19=new x.a),this.__HAMMER_GESTURE_CONFIG_19},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_EVENT_MANAGER_PLUGINS_20",{get:function(){return null==this.__EVENT_MANAGER_PLUGINS_20&&(this.__EVENT_MANAGER_PLUGINS_20=[new L.a,new k.a,new x.b(this._HAMMER_GESTURE_CONFIG_19)]),this.__EVENT_MANAGER_PLUGINS_20},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_EventManager_21",{get:function(){return null==this.__EventManager_21&&(this.__EventManager_21=new y.a(this._EVENT_MANAGER_PLUGINS_20,this.parent.get(D.a))),this.__EventManager_21},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_AnimationDriver_23",{get:function(){return null==this.__AnimationDriver_23&&(this.__AnimationDriver_23=h.b()),this.__AnimationDriver_23},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_DomRootRenderer_24",{get:function(){return null==this.__DomRootRenderer_24&&(this.__DomRootRenderer_24=new v.a(this._DOCUMENT_18,this._EventManager_21,this._DomSharedStylesHost_22,this._AnimationDriver_23,this._APP_ID_17)),this.__DomRootRenderer_24},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_RootRenderer_25",{get:function(){return null==this.__RootRenderer_25&&(this.__RootRenderer_25=G.a(this._DomRootRenderer_24,this.parent.get(G.b,null),this.parent.get(m.a,null))),this.__RootRenderer_25},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_DomSanitizer_26",{get:function(){return null==this.__DomSanitizer_26&&(this.__DomSanitizer_26=new S.a),this.__DomSanitizer_26},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_Sanitizer_27",{get:function(){return null==this.__Sanitizer_27&&(this.__Sanitizer_27=this._DomSanitizer_26),this.__Sanitizer_27},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_AnimationQueue_28",{get:function(){return null==this.__AnimationQueue_28&&(this.__AnimationQueue_28=new b.a(this.parent.get(D.a))),this.__AnimationQueue_28},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_ViewUtils_29",{get:function(){return null==this.__ViewUtils_29&&(this.__ViewUtils_29=new w.ViewUtils(this._RootRenderer_25,this._Sanitizer_27,this._AnimationQueue_28)),this.__ViewUtils_29},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_IterableDiffers_30",{get:function(){return null==this.__IterableDiffers_30&&(this.__IterableDiffers_30=a.b()),this.__IterableDiffers_30},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_KeyValueDiffers_31",{get:function(){return null==this.__KeyValueDiffers_31&&(this.__KeyValueDiffers_31=a.c()),this.__KeyValueDiffers_31},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_SharedStylesHost_32",{get:function(){return null==this.__SharedStylesHost_32&&(this.__SharedStylesHost_32=this._DomSharedStylesHost_22),this.__SharedStylesHost_32},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_Title_33",{get:function(){return null==this.__Title_33&&(this.__Title_33=new T.a),this.__Title_33},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_RadioControlRegistry_34",{get:function(){return null==this.__RadioControlRegistry_34&&(this.__RadioControlRegistry_34=new R.a),this.__RadioControlRegistry_34},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_BrowserXhr_35",{get:function(){return null==this.__BrowserXhr_35&&(this.__BrowserXhr_35=new A.a),this.__BrowserXhr_35},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_ResponseOptions_36",{get:function(){return null==this.__ResponseOptions_36&&(this.__ResponseOptions_36=new P.a),this.__ResponseOptions_36},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_XSRFStrategy_37",{get:function(){return null==this.__XSRFStrategy_37&&(this.__XSRFStrategy_37=l.a()),this.__XSRFStrategy_37},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_XHRBackend_38",{get:function(){return null==this.__XHRBackend_38&&(this.__XHRBackend_38=new I.a(this._BrowserXhr_35,this._ResponseOptions_36,this._XSRFStrategy_37)),this.__XHRBackend_38},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_RequestOptions_39",{get:function(){return null==this.__RequestOptions_39&&(this.__RequestOptions_39=new M.a),this.__RequestOptions_39},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_Http_40",{get:function(){return null==this.__Http_40&&(this.__Http_40=l.b(this._XHRBackend_38,this._RequestOptions_39)),this.__Http_40},enumerable:!0,configurable:!0}),e.prototype.createInternal=function(){return this._CommonModule_0=new s.a,this._ApplicationModule_1=new a.d,this._BrowserModule_2=new h.c(this.parent.get(h.c,null)),this._InternalFormsSharedModule_3=new o.a,this._FormsModule_4=new _.a,this._HttpModule_5=new l.c,this._MaterializeModule_6=new c.MaterializeModule,this._ClipboardModule_7=new p.a,this._AppModule_8=new r.a,this._ErrorHandler_11=h.d(),this._ApplicationInitStatus_12=new d.a(this.parent.get(d.b,null)),this._Testability_13=new f.a(this.parent.get(D.a)),this._ApplicationRef__14=new m.b(this.parent.get(D.a),this.parent.get(F.a),this,this._ErrorHandler_11,this,this._ApplicationInitStatus_12,this.parent.get(f.b,null),this._Testability_13),this._DomSharedStylesHost_22=new E.a(this._DOCUMENT_18),this._AppModule_8},e.prototype.getInternal=function(t,e){return t===s.a?this._CommonModule_0:t===a.d?this._ApplicationModule_1:t===h.c?this._BrowserModule_2:t===o.a?this._InternalFormsSharedModule_3:t===_.a?this._FormsModule_4:t===l.c?this._HttpModule_5:t===c.MaterializeModule?this._MaterializeModule_6:t===p.a?this._ClipboardModule_7:t===r.a?this._AppModule_8:t===O.a?this._LOCALE_ID_9:t===u.b?this._NgLocalization_10:t===H.a?this._ErrorHandler_11:t===d.a?this._ApplicationInitStatus_12:t===f.a?this._Testability_13:t===m.b?this._ApplicationRef__14:t===m.c?this._ApplicationRef_15:t===g.a?this._Compiler_16:t===N.b?this._APP_ID_17:t===Y.a?this._DOCUMENT_18:t===x.c?this._HAMMER_GESTURE_CONFIG_19:t===y.b?this._EVENT_MANAGER_PLUGINS_20:t===y.a?this._EventManager_21:t===E.a?this._DomSharedStylesHost_22:t===V.a?this._AnimationDriver_23:t===v.b?this._DomRootRenderer_24:t===W.a?this._RootRenderer_25:t===S.b?this._DomSanitizer_26:t===U.a?this._Sanitizer_27:t===b.a?this._AnimationQueue_28:t===w.ViewUtils?this._ViewUtils_29:t===z.a?this._IterableDiffers_30:t===B.a?this._KeyValueDiffers_31:t===E.b?this._SharedStylesHost_32:t===T.a?this._Title_33:t===R.a?this._RadioControlRegistry_34:t===A.a?this._BrowserXhr_35:t===P.b?this._ResponseOptions_36:t===j.a?this._XSRFStrategy_37:t===I.a?this._XHRBackend_38:t===M.b?this._RequestOptions_39:t===X.a?this._Http_40:e},e.prototype.destroyInternal=function(){this._ApplicationRef__14.ngOnDestroy(),this._DomSharedStylesHost_22.ngOnDestroy()},e}(n.a),q=new n.b($,r.a)},356:function(t,e,i){"use strict";var n=i(230),r=i(51),s=i(12),a=i(42),h=i(28),o=i(27),_=i(36),l=i(37),c=i(19),p=i(57),u=i(357),d=i(133),f=i(228),m=i(229),g=i(17),x=i(91),y=i(66),E=i(83),v=i(157),S=i(94);i.d(e,"b",function(){return w}),i.d(e,"a",function(){return M});var b=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},w=function(){function t(t,e,i){this._changed=!1,this.context=new n.a(t,e,i)}return t.prototype.ngOnDetach=function(t,e,i){},t.prototype.ngOnDestroy=function(){},t.prototype.ngDoCheck=function(t,e,i){var n=this._changed;return this._changed=!1,i||(0===t.numberOfChecks&&this.context.ngOnInit(),this.context.ngDoCheck()),n},t.prototype.checkHost=function(t,e,i,n){},t.prototype.handleEvent=function(t,e){var i=!0;return i},t.prototype.subscribe=function(t,e){this._eventHandler=e},t}(),T=s.createRenderComponentType("",0,a.b.None,[],{}),R=function(t){function e(i,n,r,s){t.call(this,e,T,h.a.HOST,i,n,r,s,o.b.CheckAlways)}return b(e,t),e.prototype.createInternal=function(t){return this._el_0=s.selectOrCreateRenderHostElement(this.renderer,"game-dashboard",s.EMPTY_INLINE_ARRAY,t,null),this.compView_0=new M(this.viewUtils,this,0,this._el_0),this._GameDashboardComponent_0_3=new w(new l.a(this._el_0),this.injectorGet(c.a,this.parentIndex),this.injectorGet(p.a,this.parentIndex)),this.compView_0.create(this._GameDashboardComponent_0_3.context),this.init(this._el_0,this.renderer.directRenderer?null:[this._el_0],null),new _.a(0,this,this._el_0,this._GameDashboardComponent_0_3.context)},e.prototype.injectorGetInternal=function(t,e,i){return t===n.a&&0===e?this._GameDashboardComponent_0_3.context:i},e.prototype.detectChangesInternal=function(t){this._GameDashboardComponent_0_3.ngDoCheck(this,this._el_0,t),this.compView_0.internalDetectChanges(t)},e.prototype.destroyInternal=function(){this.compView_0.destroy()},e.prototype.visitRootNodesInternal=function(t,e){t(this._el_0,e)},e}(r.a),A=(new _.b("game-dashboard",R,n.a),[u.a]),P=function(t){function e(i,n,r,s,a){t.call(this,e,I,h.a.EMBEDDED,i,n,r,s,o.b.CheckAlways,a)}return b(e,t),e.prototype.createInternal=function(t){return this._el_0=s.createRenderElement(this.renderer,null,"img",new s.InlineArray4(4,"class","heart-icon","src","assets/heart.png"),null),this.init(this._el_0,this.renderer.directRenderer?null:[this._el_0],null),null},e.prototype.visitRootNodesInternal=function(t,e){t(this._el_0,e)},e}(r.a),I=s.createRenderComponentType("",0,a.b.Emulated,A,{}),M=function(t){function e(i,n,r,s){t.call(this,e,I,h.a.COMPONENT,i,n,r,s,o.b.CheckAlways),this._expr_58=g.b,this._expr_59=g.b,this._expr_60=g.b,this._expr_61=g.b,this._expr_62=g.b}return b(e,t),e.prototype.createInternal=function(t){var e=this.renderer.createViewRoot(this.parentElement);this._text_0=this.renderer.createText(e,"\n",null),this._el_1=s.createRenderElement(this.renderer,e,"div",new s.InlineArray2(2,"class","dashboard-parent"),null),this._ScaleToWidthDirective_1_3=new f.a(new l.a(this._el_1)),this._text_2=this.renderer.createText(this._el_1,"\n  ",null),this._el_3=s.createRenderElement(this.renderer,this._el_1,"div",new s.InlineArray2(2,"class","row"),null),this._text_4=this.renderer.createText(this._el_3,"\n    ",null),this._el_5=s.createRenderElement(this.renderer,this._el_3,"div",new s.InlineArray2(2,"class","row"),null),this._text_6=this.renderer.createText(this._el_5,"\n      ",null),this._el_7=s.createRenderElement(this.renderer,this._el_5,"button",new s.InlineArray2(2,"class","col s6 waves-effect waves-light btn"),null),this._text_8=this.renderer.createText(this._el_7,"",null),this._text_9=this.renderer.createText(this._el_5,"\n      ",null),this._el_10=s.createRenderElement(this.renderer,this._el_5,"button",new s.InlineArray2(2,"class","col s6 waves-effect waves-light btn"),null),this._text_11=this.renderer.createText(this._el_10,"Drop",null),this._text_12=this.renderer.createText(this._el_5,"\n    ",null),this._text_13=this.renderer.createText(this._el_3,"\n    ",null),this._el_14=s.createRenderElement(this.renderer,this._el_3,"div",new s.InlineArray2(2,"class","row"),null),this._text_15=this.renderer.createText(this._el_14,"\n      ",null),this._el_16=s.createRenderElement(this.renderer,this._el_14,"div",new s.InlineArray2(2,"class","col s8"),null),this._text_17=this.renderer.createText(this._el_16,"\n        Lives:\n      ",null),this._text_18=this.renderer.createText(this._el_14,"\n      ",null),this._el_19=s.createRenderElement(this.renderer,this._el_14,"div",new s.InlineArray2(2,"class","col s4"),null),this._text_20=this.renderer.createText(this._el_19,"\n        Score:\n      ",null),this._text_21=this.renderer.createText(this._el_14,"\n    ",null),this._text_22=this.renderer.createText(this._el_3,"\n    ",null),this._el_23=s.createRenderElement(this.renderer,this._el_3,"div",new s.InlineArray2(2,"class","row"),null),this._text_24=this.renderer.createText(this._el_23,"\n      ",null),this._el_25=s.createRenderElement(this.renderer,this._el_23,"div",new s.InlineArray2(2,"class","col s8"),null),this._text_26=this.renderer.createText(this._el_25,"\n        ",null),this._anchor_27=this.renderer.createTemplateAnchor(this._el_25,null),this._vc_27=new d.a(27,25,this,this._anchor_27),this._TemplateRef_27_5=new x.a(this,27,this._anchor_27),this._NgFor_27_6=new m.a(this._vc_27.vcRef,this._TemplateRef_27_5,this.parentView.injectorGet(y.a,this.parentIndex),this.ref),this._text_28=this.renderer.createText(this._el_25,"\n      ",null),this._text_29=this.renderer.createText(this._el_23,"\n      ",null),this._el_30=s.createRenderElement(this.renderer,this._el_23,"div",new s.InlineArray2(2,"class","col s4"),null),this._text_31=this.renderer.createText(this._el_30,"",null),this._text_32=this.renderer.createText(this._el_23,"\n    ",null),this._text_33=this.renderer.createText(this._el_3,"\n  ",null),this._text_34=this.renderer.createText(this._el_1,"\n",null),this._text_35=this.renderer.createText(e,"\n\n",null),
this._el_36=s.createRenderElement(this.renderer,e,"div",new s.InlineArray2(2,"class","bathroom-bar-parent"),null),this._text_37=this.renderer.createText(this._el_36,"\n  ",null),this._el_38=s.createRenderElement(this.renderer,this._el_36,"div",new s.InlineArray2(2,"class","bathroom-bar"),null),this._text_39=this.renderer.createText(this._el_38,"\n  ",null),this._text_40=this.renderer.createText(this._el_36,"\n",null),this._text_41=this.renderer.createText(e,"\n\n",null),this._text_42=this.renderer.createText(e,"\n\n",null),this._el_43=s.createRenderElement(this.renderer,e,"h2",s.EMPTY_INLINE_ARRAY,null),this._text_44=this.renderer.createText(this._el_43,"\n",null),this._el_45=s.createRenderElement(this.renderer,this._el_43,"p",s.EMPTY_INLINE_ARRAY,null),this._text_46=this.renderer.createText(this._el_45,"Use the plungers on all the clogged toilets to open the exit.",null),this._text_47=this.renderer.createText(this._el_43,"\n",null),this._el_48=s.createRenderElement(this.renderer,this._el_43,"p",s.EMPTY_INLINE_ARRAY,null),this._text_49=this.renderer.createText(this._el_48,"Don't poop your pants!",null),this._text_50=this.renderer.createText(this._el_43,"\n",null),this._el_51=s.createRenderElement(this.renderer,this._el_43,"p",s.EMPTY_INLINE_ARRAY,null),this._text_52=this.renderer.createText(this._el_51,"Use arrow keys to move, space bar to drop an item.",null),this._text_53=this.renderer.createText(this._el_43,"\n",null);var i=s.subscribeToRenderElement(this,this._el_7,new s.InlineArray2(2,"click",null),this.eventHandler(this.handleEvent_7)),n=s.subscribeToRenderElement(this,this._el_10,new s.InlineArray2(2,"click",null),this.eventHandler(this.handleEvent_10));return this.init(null,this.renderer.directRenderer?null:[this._text_0,this._el_1,this._text_2,this._el_3,this._text_4,this._el_5,this._text_6,this._el_7,this._text_8,this._text_9,this._el_10,this._text_11,this._text_12,this._text_13,this._el_14,this._text_15,this._el_16,this._text_17,this._text_18,this._el_19,this._text_20,this._text_21,this._text_22,this._el_23,this._text_24,this._el_25,this._text_26,this._anchor_27,this._text_28,this._text_29,this._el_30,this._text_31,this._text_32,this._text_33,this._text_34,this._text_35,this._el_36,this._text_37,this._el_38,this._text_39,this._text_40,this._text_41,this._text_42,this._el_43,this._text_44,this._el_45,this._text_46,this._text_47,this._el_48,this._text_49,this._text_50,this._el_51,this._text_52,this._text_53],[i,n]),null},e.prototype.injectorGetInternal=function(t,e,i){return t===x.b&&27===e?this._TemplateRef_27_5:t===E.a&&27===e?this._NgFor_27_6.context:t===v.a&&1<=e&&e<=34?this._ScaleToWidthDirective_1_3.context:i},e.prototype.detectChangesInternal=function(t){var e=800;this._ScaleToWidthDirective_1_3.check_appScaleToWidth(e,t,!1),this._ScaleToWidthDirective_1_3.ngDoCheck(this,this._el_1,t);var i=this.context.lives;this._NgFor_27_6.check_ngForOf(i,t,!1),this._NgFor_27_6.ngDoCheck(this,this._anchor_27,t),this._vc_27.detectChangesInNestedViews(t);var n=s.inlineInterpolate(1,"",this.context.appState.isPaused?"Continue":"Pause","");s.checkBinding(t,this._expr_58,n)&&(this.renderer.setText(this._text_8,n),this._expr_58=n);var r=!(this.context.appState.hasTP||this.context.appState.hasPlunger||this.context.appState.hasGoldenPlunger);s.checkBinding(t,this._expr_59,r)&&(this.renderer.setElementProperty(this._el_10,"disabled",r),this._expr_59=r);var a=s.inlineInterpolate(1,"\n        ",this.context.appState.score,"\n      ");s.checkBinding(t,this._expr_60,a)&&(this.renderer.setText(this._text_31,a),this._expr_60=a);var h=100-100*this.context.bathroomNeed+"%";s.checkBinding(t,this._expr_61,h)&&(this.renderer.setElementStyle(this._el_38,"width",null==this.viewUtils.sanitizer.sanitize(S.b.STYLE,h)?null:this.viewUtils.sanitizer.sanitize(S.b.STYLE,h).toString()),this._expr_61=h);var o=this.context.barcolor;s.checkBinding(t,this._expr_62,o)&&(this.renderer.setElementStyle(this._el_38,"backgroundColor",null==this.viewUtils.sanitizer.sanitize(S.b.STYLE,o)?null:this.viewUtils.sanitizer.sanitize(S.b.STYLE,o).toString()),this._expr_62=o)},e.prototype.destroyInternal=function(){this._vc_27.destroyNestedViews()},e.prototype.createEmbeddedViewInternal=function(t){return 27==t?new P(this.viewUtils,this,27,this._anchor_27,this._vc_27):null},e.prototype.handleEvent_7=function(t,e){this.markPathToRootAsCheckOnce();var i=!0;if("click"==t){var n=this.context.togglePause()!==!1;i=n&&i}return i},e.prototype.handleEvent_10=function(t,e){this.markPathToRootAsCheckOnce();var i=!0;if("click"==t){var n=this.context.onDrop()!==!1;i=n&&i}return i},e}(r.a)},357:function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n=[".bathroom-bar[_ngcontent-%COMP%], .soap-bar[_ngcontent-%COMP%]{position:relative;height:20px}.bathroom-bar[_ngcontent-%COMP%]{background-color:hsla(0,0%,100%,.5)}.soap-bar-bar[_ngcontent-%COMP%]{background-color:rgba(255,100,255,.5)}.bathroom-bar-parent[_ngcontent-%COMP%], .soap-bar-parent[_ngcontent-%COMP%]{position:relative;width:100%;height:26px;border:1px solid #fff;padding:2px}.dashboard-parent[_ngcontent-%COMP%]{-webkit-transform-origin:0 0;transform-origin:0 0;font-size:48px;height:200px}.heart-icon[_ngcontent-%COMP%]{width:55px;margin:5px}"]},358:function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n=[".offscreen-floor[_ngcontent-%COMP%], .offscreen-walls[_ngcontent-%COMP%]{display:none}"]},359:function(t,e,i){"use strict";var n=i(231),r=i(51),s=i(12),a=i(42),h=i(28),o=i(27),_=i(36),l=i(37),c=i(19),p=i(56),u=i(57),d=i(158),f=i(358);i.d(e,"b",function(){return g}),i.d(e,"a",function(){return S});var m=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},g=function(){function t(t,e,i,r,s){this._changed=!1,this.context=new n.a(t,e,i,r,s)}return t.prototype.ngOnDetach=function(t,e,i){},t.prototype.ngOnDestroy=function(){},t.prototype.ngDoCheck=function(t,e,i){var n=this._changed;return this._changed=!1,i||(0===t.numberOfChecks&&this.context.ngOnInit(),this.context.ngDoCheck()),n},t.prototype.checkHost=function(t,e,i,n){},t.prototype.handleEvent=function(t,e){var i=!0;return i},t.prototype.subscribe=function(t,e){this._eventHandler=e},t}(),x=s.createRenderComponentType("",0,a.b.None,[],{}),y=function(t){function e(i,n,r,s){t.call(this,e,x,h.a.HOST,i,n,r,s,o.b.CheckAlways)}return m(e,t),e.prototype.createInternal=function(t){return this._el_0=s.selectOrCreateRenderHostElement(this.renderer,"game",s.EMPTY_INLINE_ARRAY,t,null),this.compView_0=new S(this.viewUtils,this,0,this._el_0),this._GameComponent_0_3=new g(new l.a(this._el_0),this.injectorGet(c.a,this.parentIndex),this.injectorGet(p.a,this.parentIndex),this.injectorGet(u.a,this.parentIndex),this.injectorGet(d.a,this.parentIndex)),this.compView_0.create(this._GameComponent_0_3.context),this.init(this._el_0,this.renderer.directRenderer?null:[this._el_0],null),new _.a(0,this,this._el_0,this._GameComponent_0_3.context)},e.prototype.injectorGetInternal=function(t,e,i){return t===n.a&&0===e?this._GameComponent_0_3.context:i},e.prototype.detectChangesInternal=function(t){this._GameComponent_0_3.ngDoCheck(this,this._el_0,t),this.compView_0.internalDetectChanges(t)},e.prototype.destroyInternal=function(){this.compView_0.destroy()},e.prototype.visitRootNodesInternal=function(t,e){t(this._el_0,e)},e}(r.a),E=(new _.b("game",y,n.a),[f.a]),v=s.createRenderComponentType("",0,a.b.Emulated,E,{}),S=function(t){function e(i,n,r,s){t.call(this,e,v,h.a.COMPONENT,i,n,r,s,o.b.CheckAlways)}return m(e,t),e.prototype.createInternal=function(t){var e=this.renderer.createViewRoot(this.parentElement);this._text_0=this.renderer.createText(e,"\n\n",null),this._el_1=s.createRenderElement(this.renderer,e,"canvas",new s.InlineArray8(6,"class","game-view","height","1000","width","1000"),null),this._text_2=this.renderer.createText(e,"\n",null),this._el_3=s.createRenderElement(this.renderer,e,"canvas",new s.InlineArray8(6,"class","offscreen-floor","height","1000","width","1000"),null),this._text_4=this.renderer.createText(e,"\n",null),this._el_5=s.createRenderElement(this.renderer,e,"canvas",new s.InlineArray8(6,"class","offscreen-walls","height","1000","width","1000"),null),this._text_6=this.renderer.createText(e,"\n\n",null);var i=s.subscribeToRenderElement(this,this._el_1,new s.InlineArray4(4,"mousedown",null,"mousemove",null),this.eventHandler(this.handleEvent_1));return this.init(null,this.renderer.directRenderer?null:[this._text_0,this._el_1,this._text_2,this._el_3,this._text_4,this._el_5,this._text_6],[i]),null},e.prototype.handleEvent_1=function(t,e){this.markPathToRootAsCheckOnce();var i=!0;if("mousedown"==t){var n=this.context.onMouseDown(e)!==!1;i=n&&i}if("mousemove"==t){var r=this.context.onMouseMove(e)!==!1;i=r&&i}return i},e}(r.a)},360:function(t,e,i){"use strict";var n=i(232),r=i(51),s=i(12),a=i(42),h=i(28),o=i(27),_=i(36),l=i(19),c=i(361),p=i(364),u=i(17),d=i(37),f=i(118);i.d(e,"b",function(){return g}),i.d(e,"a",function(){return S});var m=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},g=function(){function t(t){this._changed=!1,this.context=new n.a(t)}return t.prototype.ngOnDetach=function(t,e,i){},t.prototype.ngOnDestroy=function(){},t.prototype.ngDoCheck=function(t,e,i){var n=this._changed;return this._changed=!1,i||0===t.numberOfChecks&&this.context.ngOnInit(),n},t.prototype.checkHost=function(t,e,i,n){},t.prototype.handleEvent=function(t,e){var i=!0;return i},t.prototype.subscribe=function(t,e){this._eventHandler=e},t}(),x=s.createRenderComponentType("",0,a.b.None,[],{}),y=function(t){function e(i,n,r,s){t.call(this,e,x,h.a.HOST,i,n,r,s,o.b.CheckAlways)}return m(e,t),e.prototype.createInternal=function(t){return this._el_0=s.selectOrCreateRenderHostElement(this.renderer,"high-score",s.EMPTY_INLINE_ARRAY,t,null),this.compView_0=new S(this.viewUtils,this,0,this._el_0),this._HighScoreComponent_0_3=new g(this.injectorGet(l.a,this.parentIndex)),this.compView_0.create(this._HighScoreComponent_0_3.context),this.init(this._el_0,this.renderer.directRenderer?null:[this._el_0],null),new _.a(0,this,this._el_0,this._HighScoreComponent_0_3.context)},e.prototype.injectorGetInternal=function(t,e,i){return t===n.a&&0===e?this._HighScoreComponent_0_3.context:i},e.prototype.detectChangesInternal=function(t){this._HighScoreComponent_0_3.ngDoCheck(this,this._el_0,t),this.compView_0.internalDetectChanges(t)},e.prototype.destroyInternal=function(){this.compView_0.destroy()},e.prototype.visitRootNodesInternal=function(t,e){t(this._el_0,e)},e}(r.a),E=(new _.b("high-score",y,n.a),[c.a]),v=s.createRenderComponentType("",0,a.b.Emulated,E,{}),S=function(t){function e(i,n,r,s){t.call(this,e,v,h.a.COMPONENT,i,n,r,s,o.b.CheckAlways),this._expr_30=u.b,this._expr_31=u.b,this._expr_32=u.b}return m(e,t),e.prototype.createInternal=function(t){var e=this.renderer.createViewRoot(this.parentElement);this._el_0=s.createRenderElement(this.renderer,e,"button",new s.InlineArray2(2,"class","waves-effect waves-light btn close"),null),this._text_1=this.renderer.createText(this._el_0,"X",null),this._text_2=this.renderer.createText(e,"\n\n",null),this._el_3=s.createRenderElement(this.renderer,e,"h1",s.EMPTY_INLINE_ARRAY,null),this._text_4=this.renderer.createText(this._el_3,"NEW HIGH SCORE! ",null),this._text_5=this.renderer.createText(e,"\n",null),this._text_6=this.renderer.createText(e,"\n\n  ",null),this._el_7=s.createRenderElement(this.renderer,e,"h2",s.EMPTY_INLINE_ARRAY,null),this._text_8=this.renderer.createText(this._el_7,"Why not brag about it? Copy and paste to your favorite social network!",null),this._text_9=this.renderer.createText(e,"\n\n  ",null),this._el_10=s.createRenderElement(this.renderer,e,"h2",new s.InlineArray2(2,"class","input-group-btn"),null),this._text_11=this.renderer.createText(this._el_10,"",null),this._el_12=s.createRenderElement(this.renderer,this._el_10,"br",s.EMPTY_INLINE_ARRAY,null),this._text_13=this.renderer.createText(this._el_10,"\n\n    ",null),this._el_14=s.createRenderElement(this.renderer,this._el_10,"button",new s.InlineArray8(6,"class","btn btn-default","ngxClipboard","","type","button"),null),this._ClipboardDirective_14_3=new p.a(new d.a(this._el_14)),this._text_15=this.renderer.createText(this._el_14,"copy",null),this._text_16=this.renderer.createText(this._el_10,"\n  ",null),this._text_17=this.renderer.createText(e,"\n\n  ",null),this._el_18=s.createRenderElement(this.renderer,e,"h2",s.EMPTY_INLINE_ARRAY,null),this._text_19=this.renderer.createText(this._el_18,"Copied! To post to Facebook, click the icon and paste into your status. Thanks for playing!",null),this._el_20=s.createRenderElement(this.renderer,this._el_18,"br",s.EMPTY_INLINE_ARRAY,null),this._text_21=this.renderer.createText(this._el_18,"\n    ",null),this._el_22=s.createRenderElement(this.renderer,this._el_18,"a",new s.InlineArray2(2,"href","//facebook.com"),null),this._text_23=this.renderer.createText(this._el_22,"\n      ",null),this._el_24=s.createRenderElement(this.renderer,this._el_22,"img",new s.InlineArray4(4,"src","assets/FB-fLogo-Blue-broadcast.png","style","height:50px"),null),this._text_25=this.renderer.createText(this._el_22,"\n    ",null),this._text_26=this.renderer.createText(this._el_18,"\n  ",null),this._text_27=this.renderer.createText(e,"\n  ",null),this._text_28=this.renderer.createText(e,"\n\n",null);var i=s.subscribeToRenderElement(this,this._el_0,new s.InlineArray2(2,"click",null),this.eventHandler(this.handleEvent_0)),n=s.subscribeToRenderElement(this,this._el_14,new s.InlineArray2(2,"cbOnSuccess",null),this.eventHandler(this.handleEvent_14));return this._ClipboardDirective_14_3.subscribe(this,this.eventHandler(this.handleEvent_14),!0,!1),this.init(null,this.renderer.directRenderer?null:[this._el_0,this._text_1,this._text_2,this._el_3,this._text_4,this._text_5,this._text_6,this._el_7,this._text_8,this._text_9,this._el_10,this._text_11,this._el_12,this._text_13,this._el_14,this._text_15,this._text_16,this._text_17,this._el_18,this._text_19,this._el_20,this._text_21,this._el_22,this._text_23,this._el_24,this._text_25,this._text_26,this._text_27,this._text_28],[i,n]),null},e.prototype.injectorGetInternal=function(t,e,i){return t===f.a&&14<=e&&e<=15?this._ClipboardDirective_14_3.context:i},e.prototype.detectChangesInternal=function(t){var e="";this._ClipboardDirective_14_3.check_targetElm(e,t,!1);var i=this.context.bragMessage;this._ClipboardDirective_14_3.check_cbContent(i,t,!1),this._ClipboardDirective_14_3.ngDoCheck(this,this._el_14,t);var n=s.inlineInterpolate(1,"\n    ",this.context.bragMessage,"");s.checkBinding(t,this._expr_30,n)&&(this.renderer.setText(this._text_11,n),this._expr_30=n);var r=this.context.isCopied;s.checkBinding(t,this._expr_31,r)&&(this.renderer.setElementClass(this._el_14,"btn-success",r),this._expr_31=r);var a=!this.context.isCopied;s.checkBinding(t,this._expr_32,a)&&(this.renderer.setElementProperty(this._el_18,"hidden",a),this._expr_32=a)},e.prototype.destroyInternal=function(){this._ClipboardDirective_14_3.ngOnDestroy()},e.prototype.handleEvent_0=function(t,e){this.markPathToRootAsCheckOnce();var i=!0;if("click"==t){var n=this.context.onClose()!==!1;i=n&&i}return i},e.prototype.handleEvent_14=function(t,e){this.markPathToRootAsCheckOnce();var i=!0;if("cbOnSuccess"==t){var n=(this.context.isCopied=!0)!=!1;i=n&&i}return i},e}(r.a)},361:function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n=["h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{width:100%;text-align:center;padding-left:10px;padding-right:10px}h1[_ngcontent-%COMP%]{font-size:500%}h2[_ngcontent-%COMP%]{margin:4px}h3[_ngcontent-%COMP%]{margin-top:0}.input-group-btn[_ngcontent-%COMP%]{margin-top:10px;border:1px solid #fff;background-color:#d3d3d3;color:#000}.close[_ngcontent-%COMP%]{position:absolute;padding:0;right:10px;top:10px;width:60px;height:60px;border-radius:50%!important;font-size:40px;text-align:center}"]},362:function(t,e,i){"use strict";var n=i(235),r=i(51),s=i(12),a=i(42),h=i(28),o=i(27),_=i(36),l=i(19),c=i(56),p=i(363),u=i(133),d=i(17),f=i(229),m=i(91),g=i(66),x=i(83);i.d(e,"b",function(){return E}),i.d(e,"a",function(){return R});var y=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},E=function(){function t(t,e){this._changed=!1,this.context=new n.a(t,e)}return t.prototype.ngOnDetach=function(t,e,i){},t.prototype.ngOnDestroy=function(){},t.prototype.ngDoCheck=function(t,e,i){var n=this._changed;return this._changed=!1,i||(0===t.numberOfChecks&&this.context.ngOnInit(),this.context.ngDoCheck()),n},t.prototype.checkHost=function(t,e,i,n){},t.prototype.handleEvent=function(t,e){var i=!0;return i},t.prototype.subscribe=function(t,e){this._eventHandler=e},t}(),v=s.createRenderComponentType("",0,a.b.None,[],{}),S=function(t){function e(i,n,r,s){t.call(this,e,v,h.a.HOST,i,n,r,s,o.b.CheckAlways)}return y(e,t),e.prototype.createInternal=function(t){return this._el_0=s.selectOrCreateRenderHostElement(this.renderer,"start-screen",s.EMPTY_INLINE_ARRAY,t,null),this.compView_0=new R(this.viewUtils,this,0,this._el_0),this._StartScreenComponent_0_3=new E(this.injectorGet(l.a,this.parentIndex),this.injectorGet(c.a,this.parentIndex)),this.compView_0.create(this._StartScreenComponent_0_3.context),this.init(this._el_0,this.renderer.directRenderer?null:[this._el_0],null),new _.a(0,this,this._el_0,this._StartScreenComponent_0_3.context)},e.prototype.injectorGetInternal=function(t,e,i){return t===n.a&&0===e?this._StartScreenComponent_0_3.context:i},e.prototype.detectChangesInternal=function(t){this._StartScreenComponent_0_3.ngDoCheck(this,this._el_0,t),this.compView_0.internalDetectChanges(t)},e.prototype.destroyInternal=function(){this.compView_0.destroy()},e.prototype.visitRootNodesInternal=function(t,e){t(this._el_0,e)},e}(r.a),b=(new _.b("start-screen",S,n.a),[p.a]),w=function(t){function e(i,n,r,s,a){t.call(this,e,T,h.a.EMBEDDED,i,n,r,s,o.b.CheckAlways,a),this._expr_4=d.b}return y(e,t),e.prototype.createInternal=function(t){this._el_0=s.createRenderElement(this.renderer,null,"button",new s.InlineArray2(2,"class","waves-effect waves-light btn"),null),this._text_1=this.renderer.createText(this._el_0,"\n        ",null),this._el_2=s.createRenderElement(this.renderer,this._el_0,"canvas",new s.InlineArray4(4,"height","200","width","200"),null),this._text_3=this.renderer.createText(this._el_0,"\n      ",null);var e=s.subscribeToRenderElement(this,this._el_0,new s.InlineArray2(2,"click",null),this.eventHandler(this.handleEvent_0));return this.init(this._el_0,this.renderer.directRenderer?null:[this._el_0,this._text_1,this._el_2,this._text_3],[e]),null},e.prototype.detectChangesInternal=function(t){var e=s.inlineInterpolate(1,"",this.context.$implicit,"");s.checkBinding(t,this._expr_4,e)&&(this.renderer.setElementProperty(this._el_2,"id",e),this._expr_4=e)},e.prototype.visitRootNodesInternal=function(t,e){t(this._el_0,e)},e.prototype.handleEvent_0=function(t,e){this.markPathToRootAsCheckOnce();var i=!0;if("click"==t){var n=this.parentView.context.select(this.context.$implicit)!==!1;i=n&&i}return i},e}(r.a),T=s.createRenderComponentType("",0,a.b.Emulated,b,{}),R=function(t){function e(i,n,r,s){t.call(this,e,T,h.a.COMPONENT,i,n,r,s,o.b.CheckAlways)}return y(e,t),e.prototype.createInternal=function(t){var e=this.renderer.createViewRoot(this.parentElement);return this._el_0=s.createRenderElement(this.renderer,e,"div",new s.InlineArray2(2,"class","start-screen"),null),this._text_1=this.renderer.createText(this._el_0,"\n  ",null),this._el_2=s.createRenderElement(this.renderer,this._el_0,"h1",s.EMPTY_INLINE_ARRAY,null),this._text_3=this.renderer.createText(this._el_2," TOILET RUN",null),this._text_4=this.renderer.createText(this._el_0,"\n\n  ",null),this._el_5=s.createRenderElement(this.renderer,this._el_0,"h2",s.EMPTY_INLINE_ARRAY,null),this._text_6=this.renderer.createText(this._el_5,"Choose your character to start:",null),this._text_7=this.renderer.createText(this._el_0,"\n\n  ",null),this._el_8=s.createRenderElement(this.renderer,this._el_0,"div",new s.InlineArray2(2,"class","characters-parent"),null),this._text_9=this.renderer.createText(this._el_8,"\n    ",null),this._el_10=s.createRenderElement(this.renderer,this._el_8,"div",new s.InlineArray2(2,"class","characters"),null),this._text_11=this.renderer.createText(this._el_10,"\n\n      ",null),this._anchor_12=this.renderer.createTemplateAnchor(this._el_10,null),this._vc_12=new u.a(12,10,this,this._anchor_12),this._TemplateRef_12_5=new m.a(this,12,this._anchor_12),this._NgFor_12_6=new f.a(this._vc_12.vcRef,this._TemplateRef_12_5,this.parentView.injectorGet(g.a,this.parentIndex),this.ref),this._text_13=this.renderer.createText(this._el_10,"\n    ",null),this._text_14=this.renderer.createText(this._el_8,"\n  ",null),this._text_15=this.renderer.createText(this._el_0,"\n\n  ",null),this._el_16=s.createRenderElement(this.renderer,this._el_0,"br",s.EMPTY_INLINE_ARRAY,null),this._text_17=this.renderer.createText(this._el_0,"\n  ",null),this._el_18=s.createRenderElement(this.renderer,this._el_0,"br",s.EMPTY_INLINE_ARRAY,null),this._text_19=this.renderer.createText(this._el_0,"\n\n  ",null),this._el_20=s.createRenderElement(this.renderer,this._el_0,"div",new s.InlineArray2(2,"class","credits"),null),this._text_21=this.renderer.createText(this._el_20,"\n  ",null),this._el_22=s.createRenderElement(this.renderer,this._el_20,"h2",s.EMPTY_INLINE_ARRAY,null),this._text_23=this.renderer.createText(this._el_22,"Concept, Design and Project Management:",null),this._text_24=this.renderer.createText(this._el_20,"\n  ",null),this._el_25=s.createRenderElement(this.renderer,this._el_20,"h3",s.EMPTY_INLINE_ARRAY,null),this._text_26=this.renderer.createText(this._el_25,"Micah Newman Schafer (age 6)",null),this._text_27=this.renderer.createText(this._el_20,"\n\n  ",null),this._el_28=s.createRenderElement(this.renderer,this._el_20,"h2",s.EMPTY_INLINE_ARRAY,null),this._text_29=this.renderer.createText(this._el_28,"Plumbing:",null),this._text_30=this.renderer.createText(this._el_20,"\n  ",null),this._el_31=s.createRenderElement(this.renderer,this._el_20,"h3",s.EMPTY_INLINE_ARRAY,null),this._text_32=this.renderer.createText(this._el_31,"Scott Schafer (age 48)",null),this._text_33=this.renderer.createText(this._el_20,"\n\n  ",null),this._el_34=s.createRenderElement(this.renderer,this._el_20,"h2",s.EMPTY_INLINE_ARRAY,null),this._text_35=this.renderer.createText(this._el_34,"Music:\n    ",null),this._el_36=s.createRenderElement(this.renderer,this._el_34,"a",new s.InlineArray2(2,"href","http://opengameart.org/content/matts-creative-commons-music"),null),this._text_37=this.renderer.createText(this._el_36,"Matthew Klingensmith",null),this._text_38=this.renderer.createText(this._el_34,",\n    ",null),this._el_39=s.createRenderElement(this.renderer,this._el_34,"a",new s.InlineArray2(2,"href","http://vivid.gamedevs.org/"),null),this._text_40=this.renderer.createText(this._el_39,"Vivid Reality",null),this._text_41=this.renderer.createText(this._el_34,"\n  ",null),this._text_42=this.renderer.createText(this._el_20,"\n\n  ",null),this._el_43=s.createRenderElement(this.renderer,this._el_20,"h2",s.EMPTY_INLINE_ARRAY,null),this._text_44=this.renderer.createText(this._el_43,"Character artwork by\n    ",null),this._el_45=s.createRenderElement(this.renderer,this._el_43,"a",new s.InlineArray2(2,"href","http://lpc.opengameart.org/"),null),this._text_46=this.renderer.createText(this._el_45,"Liberated Pixel Cup, OpenGameArt",null),this._text_47=this.renderer.createText(this._el_43,",\n    ",null),this._el_48=s.createRenderElement(this.renderer,this._el_43,"a",new s.InlineArray2(2,"href","https://github.com/jrconway3/Universal-LPC-spritesheet"),null),this._text_49=this.renderer.createText(this._el_48,"Universal LPC Spritesheet",null),this._text_50=this.renderer.createText(this._el_43,"\n    ",null),this._text_51=this.renderer.createText(this._el_20,"\n  ",null),this._text_52=this.renderer.createText(this._el_0,"\n",null),this.init(null,this.renderer.directRenderer?null:[this._el_0,this._text_1,this._el_2,this._text_3,this._text_4,this._el_5,this._text_6,this._text_7,this._el_8,this._text_9,this._el_10,this._text_11,this._anchor_12,this._text_13,this._text_14,this._text_15,this._el_16,this._text_17,this._el_18,this._text_19,this._el_20,this._text_21,this._el_22,this._text_23,this._text_24,this._el_25,this._text_26,this._text_27,this._el_28,this._text_29,this._text_30,this._el_31,this._text_32,this._text_33,this._el_34,this._text_35,this._el_36,this._text_37,this._text_38,this._el_39,this._text_40,this._text_41,this._text_42,this._el_43,this._text_44,this._el_45,this._text_46,this._text_47,this._el_48,this._text_49,this._text_50,this._text_51,this._text_52],null),null},e.prototype.injectorGetInternal=function(t,e,i){return t===m.b&&12===e?this._TemplateRef_12_5:t===x.a&&12===e?this._NgFor_12_6.context:i},e.prototype.detectChangesInternal=function(t){var e=this.context.playerCharacters;this._NgFor_12_6.check_ngForOf(e,t,!1),this._NgFor_12_6.ngDoCheck(this,this._anchor_12,t),this._vc_12.detectChangesInNestedViews(t)},e.prototype.destroyInternal=function(){this._vc_12.destroyNestedViews()},e.prototype.createEmbeddedViewInternal=function(t){return 12==t?new w(this.viewUtils,this,12,this._anchor_12,this._vc_12):null},e}(r.a)},363:function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n=[".start-screen[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;overflow-x:hidden;overflow-y:auto}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{width:100%;text-align:center}h1[_ngcontent-%COMP%]{font-size:500%}h2[_ngcontent-%COMP%]{margin:4px}h3[_ngcontent-%COMP%]{margin-top:0}.characters-parent[_ngcontent-%COMP%]{width:100%;text-align:center}.characters-parent[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:200px;height:200px;margin:10px}"]},364:function(t,e,i){"use strict";var n=i(118),r=i(17),s=i(12);i.d(e,"a",function(){return a});var a=function(){function t(t){this._changed=!1,this.context=new n.a(t),this._expr_0=r.b,this._expr_1=r.b}return t.prototype.ngOnDetach=function(t,e,i){},t.prototype.ngOnDestroy=function(){this.context.ngOnDestroy(),this.subscription0&&this.subscription0.unsubscribe(),this.subscription1&&this.subscription1.unsubscribe()},t.prototype.check_targetElm=function(t,e,i){(i||s.checkBinding(e,this._expr_0,t))&&(this._changed=!0,this.context.targetElm=t,this._expr_0=t)},t.prototype.check_cbContent=function(t,e,i){(i||s.checkBinding(e,this._expr_1,t))&&(this._changed=!0,this.context.cbContent=t,this._expr_1=t)},t.prototype.ngDoCheck=function(t,e,i){var n=this._changed;return this._changed=!1,i||0===t.numberOfChecks&&this.context.ngOnInit(),n},t.prototype.checkHost=function(t,e,i,n){},t.prototype.handleEvent=function(t,e){var i=!0;return i},t.prototype.subscribe=function(t,e,i,n){this._eventHandler=e,i&&(this.subscription0=this.context.onSuccess.subscribe(e.bind(t,"cbOnSuccess"))),n&&(this.subscription1=this.context.onError.subscribe(e.bind(t,"cbOnError")))},t}()},365:function(t,e,i){"use strict";var n=i(19);i.d(e,"a",function(){return r});var r=function(){function t(t){this.appState=t,this.GAME_SPLASH_SCREEN=n.b.GAME_SPLASH_SCREEN,this.GAME_INTRO=n.b.GAME_INTRO,this.GAME_IN_PROGRESS=n.b.GAME_IN_PROGRESS,this.GAME_STARTING=n.b.GAME_STARTING,this.GAME_LOST_LIFE_POOPED_PANTS=n.b.GAME_LOST_LIFE_POOPED_PANTS,this.GAME_LOST_LIFE_HIT_MONSTER=n.b.GAME_LOST_LIFE_HIT_MONSTER,this.GAME_NEW_HIGHSCORE=n.b.GAME_NEW_HIGHSCORE}return t.prototype.ngOnInit=function(){},t.prototype.ngDoCheck=function(){var t=this;void 0==this.appState.state&&(this.appState.state=n.b.GAME_SPLASH_SCREEN,window.setTimeout(function(){t.appState.state=n.b.GAME_INTRO},5e3))},t.ctorParameters=function(){return[{type:n.a}]},t}()},366:function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n=function(){function t(){}return t}()},367:function(t,e,i){"use strict";var n=i(159);i.d(e,"a",function(){return s});var r=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},s=function(t){function e(e){t.call(this),this.appState=e,this.direction=1,this.startFrame=0,this.endFrame=2}return r(e,t),e.prototype.update=function(e){t.prototype.update.call(this,e),this.setFrameLimits(),void 0===this.targetX&&this.onArrival(e)},e.prototype.go=function(t,e){this.moveX=(t-this.x)/30,this.moveY=(e-this.y)/30,this.targetX=t,this.targetY=e},e.prototype.onArrival=function(t){1==this.direction?t.canMoveRight(this.x,this.y)?this.go(this.x+1,this.y):t.canMoveLeft(this.x,this.y)&&(this.direction=-1,this.go(this.x-1,this.y)):t.canMoveLeft(this.x,this.y)?this.go(this.x-1,this.y):t.canMoveRight(this.x,this.y)&&(this.direction=1,this.go(this.x+1,this.y)),this.setFrameLimits()},e.prototype.setFrameLimits=function(){this.startFrame=this.direction==-1?0:3,this.endFrame=this.direction==-1?2:5,this.appState.hasPlunger||this.appState.hasGoldenPlunger||(this.startFrame+=6,this.endFrame+=6),(this.frame<this.startFrame||this.frame>this.endFrame)&&(this.frame=this.startFrame)},e}(n.a)},368:function(t,e,i){"use strict";var n=i(108),r=i(234),s=i(159),a=i(19),h=i(56),o=i(57),_=i(73);i.d(e,"a",function(){return c});var l=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},c=function(t){function e(e,i,n){t.call(this),this.appState=e,this.audioService=i,this.eventPublisherService=n,this.counter=0,this.bubbleFrame=0}return l(e,t),e.prototype.draw=function(e){this.spriteMap=this.appState.character,this.spriteMap||(this.spriteMap=new n.a("boy")),this.spriteMap&&t.prototype.draw.call(this,e);var i=15,r=20,a=35,h=0;switch(this.type){case n.a.WALK_LEFT:r=30,a=35,h=-Math.PI/4;break;case n.a.WALK_RIGHT:r=-5,a=35,h=-Math.PI/4;break;case n.a.WALK_UP:a-=i,r+=i;break;case n.a.WALK_DOWN:a-=i,r-=i}var o=s.a.getSpriteMap();if(this.appState.hasTP||this.appState.hasPlunger){var l=.35,c=64*this.x+r,p=64*this.y+a;e.save(),e.translate(c,p),c=p=0,e.rotate(h),o.draw(e,this.appState.hasGoldenPlunger?1:0,this.appState.hasTP?s.a.TYPE_TP:s.a.TYPE_PLUNGER,c,p,l,l),e.restore()}if(this.appState.msUntilSoapDone>0){var l=.6,c=64*this.x+(this.type==n.a.WALK_RIGHT,10),p=64*this.y+30;e.globalAlpha=Math.min(1,2*this.appState.msUntilSoapDone/_.a.MS_UNTIL_SOAP_WEARS_OFF),o.draw(e,3+Math.floor(this.bubbleFrame)%3,s.a.TYPE_SOAP,c,p,l),e.globalAlpha=1}},e.prototype.go=function(t,e){if(t!=this.targetX||e!=this.targetY){this.moveX=this.moveY=0;var i=2/(1e3/_.a.MS_PER_FRAME);this.appState.msUntilSoapDone>0&&(i*=1.5),t<this.x?(this.type=n.a.WALK_LEFT,this.moveX=-i):t>this.x?(this.type=n.a.WALK_RIGHT,this.moveX=i):e<this.y?(this.type=n.a.WALK_UP,this.moveY=-i):e>this.y&&(this.type=n.a.WALK_DOWN,this.moveY=i),this.targetX=t,this.targetY=e}},e.prototype.update=function(t){if(this.bubbleFrame+=_.a.MS_PER_FRAME/100,void 0!=this.targetX){++this.counter,1&this.counter&&(this.frame=(this.frame+1)%n.a.NUM_WALK_FRAMES);var e=t.getGridSize()-1;this.x=this.x+this.moveX,this.y=this.y+this.moveY;var i=this.targetX-this.x,r=this.targetY-this.y;if(i*i+r*r<.001){this.appState.justDropped=!1,this.x=this.targetX,this.y=this.targetY,this.frame=0,this.targetX=this.targetY=void 0;var e=t.getGridSize();this.x<0||this.y<0||this.x>=e||this.y>=e?this.appState.state=a.b.GAME_NEXT_LEVEL:t.canPlayerExit(this.x,this.y)&&this.go(this.x+1,this.y)}}this.pickup(t)},e.prototype.pickup=function(t){this.handleCollision(t.getSpritesAtPosition(this.x,this.y),t,!0)},e.prototype.handleCollision=function(t,e,i){
var n=this;t.forEach(function(t){if(t!=n)switch(t.type){case s.a.TYPE_SOAP:++n.appState.numSoaps,e.removeSprite(t),n.eventPublisherService.emit(o.b.EVENT_USE_SOAP);break;case s.a.TYPE_TP:i&&(n.appState.hasTP||n.appState.hasPlunger||n.appState.justDropped||(n.appState.hasTP=!0,e.removeSprite(t)));break;case s.a.TYPE_PLUNGER:n.appState.hasTP&&n.eventPublisherService.emit(o.b.EVENT_PICKUP_DROP),i&&(n.appState.hasTP||n.appState.hasPlunger||n.appState.justDropped||(n.appState.hasPlunger=!0,n.appState.hasGoldenPlunger=t.frame>0,e.removeSprite(t)));break;case s.a.TYPE_CLOGGED_TOILET:n.appState.hasPlunger?(n.appState.hasPlunger=!1,n.appState.hasGoldenPlunger&&(++n.appState.numLives,n.audioService.playSoundEffect(h.b.SFX_EXTRA_LIFE)),n.appState.score+=50,n.appState.hasGoldenPlunger=!1,e.createOtherSprite(s.a.TYPE_TOILET,t.x,t.y),e.removeSprite(t)):n.appState.state=a.b.GAME_LOST_LIFE_HIT_MONSTER;break;case s.a.TYPE_TOILET:if(n.appState.hasTP){n.appState.hasTP=!1,n.eventPublisherService.emit(o.b.EVENT_USE_TOILET);var r=e.createOtherSprite(s.a.TYPE_SYMBOL,n.x,n.y,!0);r.frame=Math.floor(4*Math.random()),r.scaling=1,window.setTimeout(function(){e.removeSprite(r)},1e3)}}})},e.ctorParameters=function(){return[{type:a.a},{type:h.a},{type:o.a}]},e}(r.a)},369:function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n={production:!0}},370:function(t,e,i){"use strict";var n=i(389),r=(i.n(n),i(382)),s=(i.n(r),i(378)),a=(i.n(s),i(384)),h=(i.n(a),i(383)),o=(i.n(h),i(381)),_=(i.n(o),i(380)),l=(i.n(_),i(388)),c=(i.n(l),i(377)),p=(i.n(c),i(376)),u=(i.n(p),i(386)),d=(i.n(u),i(379)),f=(i.n(d),i(387)),m=(i.n(f),i(385)),g=(i.n(m),i(390)),x=(i.n(g),i(546));i.n(x)},547:function(t,e,i){t.exports=i(282)},56:function(t,e,i){"use strict";i.d(e,"b",function(){return n}),i.d(e,"a",function(){return r});var n;!function(t){t[t.MUSIC_STARTSCREEN=0]="MUSIC_STARTSCREEN",t[t.MUSIC_LEVEL=1]="MUSIC_LEVEL",t[t.MUSIC_DEATH=2]="MUSIC_DEATH",t[t.SFX_FART=3]="SFX_FART",t[t.SFX_FLUSH=4]="SFX_FLUSH",t[t.SFX_EXTRA_LIFE=5]="SFX_EXTRA_LIFE",t[t.SFX_DROP=6]="SFX_DROP"}(n||(n={}));var r=function(){function t(){this.fxFart=new Audio("assets/sounds/Girl Fart-SoundBible.com-669012925.mp3"),this.fxFlush=new Audio("assets/sounds/Toilet_Flushing-KevanGC-917782919.mp3"),this.fxExtraLife=new Audio("assets/sounds/274183__littlerobotsoundfactory__jingle-win-synth-04.mp3"),this.fxDrop=new Audio("assets/sounds/352110__inspectorj__dropping-wood-d.mp3")}return t.prototype.stopMusic=function(){this.lastType=null,this.music&&(this.music.pause(),this.music=null)},t.prototype.playMusic=function(t){if(this.lastType!==t){switch(this.stopMusic(),t){case n.MUSIC_STARTSCREEN:this.music=new Audio("assets/sounds/BGM.ogg");break;case n.MUSIC_LEVEL:this.music=new Audio("assets/sounds/LeftRightExcluded.mp3");break;case n.MUSIC_DEATH:this.music=new Audio("assets/sounds/hell-Mike_Koenig-144950046.mp3")}this.music&&(this.lastType=t,"boolean"==typeof this.music.loop?this.music.loop=!0:this.music.addEventListener("ended",function(){this.currentTime=0,this.play()},!1),this.music.play())}},t.prototype.playSoundEffect=function(t){switch(t){case n.SFX_FART:this.fxFart.play();break;case n.SFX_FLUSH:this.fxFlush.play();break;case n.SFX_EXTRA_LIFE:this.fxExtraLife.play();break;case n.SFX_DROP:this.fxDrop.play()}},t.ctorParameters=function(){return[]},t}()},57:function(t,e,i){"use strict";var n=i(80);i.n(n);i.d(e,"b",function(){return r}),i.d(e,"a",function(){return o});var r,s=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)};!function(t){t[t.EVENT_CHANGE_STATE=0]="EVENT_CHANGE_STATE",t[t.EVENT_MOVE_UP=1]="EVENT_MOVE_UP",t[t.EVENT_MOVE_DOWN=2]="EVENT_MOVE_DOWN",t[t.EVENT_MOVE_LEFT=3]="EVENT_MOVE_LEFT",t[t.EVENT_MOVE_RIGHT=4]="EVENT_MOVE_RIGHT",t[t.EVENT_PICKUP_DROP=5]="EVENT_PICKUP_DROP",t[t.EVENT_USE_SOAP=6]="EVENT_USE_SOAP",t[t.EVENT_USE_TOILET=7]="EVENT_USE_TOILET"}(r||(r={}));var a=function(){function t(t,e){this.type=t,this.data=e}return t}(),h=function(t){function e(){t.call(this)}return s(e,t),e.prototype.emit=function(e){t.prototype.next.call(this,e)},e}(n.Subject),o=function(){function t(){this.Stream=new h}return t.prototype.emit=function(t,e){this.Stream.emit(new a(t,e))},t.ctorParameters=function(){return[]},t}()},73:function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n=function(){function t(){}return t.GAME_DIM=1e3,t.MAZE_DIM=20,t.MS_PER_FRAME=33,t.MS_UNTIL_BATHROOM_BREAK=25e3,t.MS_UNTIL_SOAP_WEARS_OFF=1e4,t}()}},[547]);